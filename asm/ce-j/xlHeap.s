# xlHeap.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel xlHeapReset
/* 0010A8 80006648 7C0802A6 */  mflr    r0
/* 0010AC 8000664C 90010004 */  stw     r0, 4(r1)
/* 0010B0 80006650 38000000 */  li      r0, 0
/* 0010B4 80006654 9421FFF8 */  stwu    r1, -8(r1)
/* 0010B8 80006658 806D88E0 */  lwz     r3, gnSizeHeap@sda21(r13)
/* 0010BC 8000665C 80AD88C8 */  lwz     r5, gpHeap@sda21(r13)
/* 0010C0 80006660 7C631670 */  srawi   r3, r3, 2
/* 0010C4 80006664 38C3FFFE */  addi    r6, r3, -2
/* 0010C8 80006668 90AD88CC */  stw     r5, gpHeapBlockFirst@sda21(r13)
/* 0010CC 8000666C 54C3103A */  slwi    r3, r6, 2
/* 0010D0 80006670 38830004 */  addi    r4, r3, 4
/* 0010D4 80006674 806D88CC */  lwz     r3, gpHeapBlockFirst@sda21(r13)
/* 0010D8 80006678 7CA52214 */  add     r5, r5, r4
/* 0010DC 8000667C 54C4D00A */  slwi    r4, r6, 0x1a
/* 0010E0 80006680 90AD88D0 */  stw     r5, gpHeapBlockLast@sda21(r13)
/* 0010E4 80006684 7CC42378 */  or      r4, r6, r4
/* 0010E8 80006688 64840100 */  oris    r4, r4, 0x100
/* 0010EC 8000668C 90830000 */  stw     r4, 0(r3)
/* 0010F0 80006690 806D88D0 */  lwz     r3, gpHeapBlockLast@sda21(r13)
/* 0010F4 80006694 90030000 */  stw     r0, 0(r3)
/* 0010F8 80006698 48000EA9 */  bl      xlHeapBlockCacheReset
/* 0010FC 8000669C 8001000C */  lwz     r0, 0xc(r1)
/* 001100 800066A0 38600001 */  li      r3, 1
/* 001104 800066A4 38210008 */  addi    r1, r1, 8
/* 001108 800066A8 7C0803A6 */  mtlr    r0
/* 00110C 800066AC 4E800020 */  blr     

glabel xlHeapSetup
/* 001110 800066B0 7C0802A6 */  mflr    r0
/* 001114 800066B4 7C851670 */  srawi   r5, r4, 2
/* 001118 800066B8 90010004 */  stw     r0, 4(r1)
/* 00111C 800066BC 38030003 */  addi    r0, r3, 3
/* 001120 800066C0 5406003A */  rlwinm  r6, r0, 0, 0, 0x1d
/* 001124 800066C4 9421FFF8 */  stwu    r1, -8(r1)
/* 001128 800066C8 2C050008 */  cmpwi   r5, 8
/* 00112C 800066CC 54A3E8FE */  srwi    r3, r5, 3
/* 001130 800066D0 908D88E0 */  stw     r4, gnSizeHeap@sda21(r13)
/* 001134 800066D4 90CD88C8 */  stw     r6, gpHeap@sda21(r13)
/* 001138 800066D8 418000E0 */  blt     lbl_800067B8
/* 00113C 800066DC 5460F0BF */  rlwinm. r0, r3, 0x1e, 2, 0x1f
/* 001140 800066E0 7C0903A6 */  mtctr   r0
/* 001144 800066E4 54601838 */  slwi    r0, r3, 3
/* 001148 800066E8 7C0000D0 */  neg     r0, r0
/* 00114C 800066EC 41820098 */  beq     lbl_80006784
lbl_800066F0:
/* 001150 800066F0 38800000 */  li      r4, 0
/* 001154 800066F4 90860000 */  stw     r4, 0(r6)
/* 001158 800066F8 90860004 */  stw     r4, 4(r6)
/* 00115C 800066FC 90860008 */  stw     r4, 8(r6)
/* 001160 80006700 9086000C */  stw     r4, 0xc(r6)
/* 001164 80006704 90860010 */  stw     r4, 0x10(r6)
/* 001168 80006708 90860014 */  stw     r4, 0x14(r6)
/* 00116C 8000670C 90860018 */  stw     r4, 0x18(r6)
/* 001170 80006710 9086001C */  stw     r4, 0x1c(r6)
/* 001174 80006714 90860020 */  stw     r4, 0x20(r6)
/* 001178 80006718 90860024 */  stw     r4, 0x24(r6)
/* 00117C 8000671C 90860028 */  stw     r4, 0x28(r6)
/* 001180 80006720 9086002C */  stw     r4, 0x2c(r6)
/* 001184 80006724 90860030 */  stw     r4, 0x30(r6)
/* 001188 80006728 90860034 */  stw     r4, 0x34(r6)
/* 00118C 8000672C 90860038 */  stw     r4, 0x38(r6)
/* 001190 80006730 9086003C */  stw     r4, 0x3c(r6)
/* 001194 80006734 90860040 */  stw     r4, 0x40(r6)
/* 001198 80006738 90860044 */  stw     r4, 0x44(r6)
/* 00119C 8000673C 90860048 */  stw     r4, 0x48(r6)
/* 0011A0 80006740 9086004C */  stw     r4, 0x4c(r6)
/* 0011A4 80006744 90860050 */  stw     r4, 0x50(r6)
/* 0011A8 80006748 90860054 */  stw     r4, 0x54(r6)
/* 0011AC 8000674C 90860058 */  stw     r4, 0x58(r6)
/* 0011B0 80006750 9086005C */  stw     r4, 0x5c(r6)
/* 0011B4 80006754 90860060 */  stw     r4, 0x60(r6)
/* 0011B8 80006758 90860064 */  stw     r4, 0x64(r6)
/* 0011BC 8000675C 90860068 */  stw     r4, 0x68(r6)
/* 0011C0 80006760 9086006C */  stw     r4, 0x6c(r6)
/* 0011C4 80006764 90860070 */  stw     r4, 0x70(r6)
/* 0011C8 80006768 90860074 */  stw     r4, 0x74(r6)
/* 0011CC 8000676C 90860078 */  stw     r4, 0x78(r6)
/* 0011D0 80006770 9086007C */  stw     r4, 0x7c(r6)
/* 0011D4 80006774 38C60080 */  addi    r6, r6, 0x80
/* 0011D8 80006778 4200FF78 */  bdnz    lbl_800066F0
/* 0011DC 8000677C 70630003 */  andi.   r3, r3, 3
/* 0011E0 80006780 41820034 */  beq     lbl_800067B4
lbl_80006784:
/* 0011E4 80006784 7C6903A6 */  mtctr   r3
/* 0011E8 80006788 38800000 */  li      r4, 0
lbl_8000678C:
/* 0011EC 8000678C 90860000 */  stw     r4, 0(r6)
/* 0011F0 80006790 90860004 */  stw     r4, 4(r6)
/* 0011F4 80006794 90860008 */  stw     r4, 8(r6)
/* 0011F8 80006798 9086000C */  stw     r4, 0xc(r6)
/* 0011FC 8000679C 90860010 */  stw     r4, 0x10(r6)
/* 001200 800067A0 90860014 */  stw     r4, 0x14(r6)
/* 001204 800067A4 90860018 */  stw     r4, 0x18(r6)
/* 001208 800067A8 9086001C */  stw     r4, 0x1c(r6)
/* 00120C 800067AC 38C60020 */  addi    r6, r6, 0x20
/* 001210 800067B0 4200FFDC */  bdnz    lbl_8000678C
lbl_800067B4:
/* 001214 800067B4 7CA50214 */  add     r5, r5, r0
lbl_800067B8:
/* 001218 800067B8 2C050000 */  cmpwi   r5, 0
/* 00121C 800067BC 38650000 */  addi    r3, r5, 0
/* 001220 800067C0 38800000 */  li      r4, 0
/* 001224 800067C4 40810050 */  ble     lbl_80006814
/* 001228 800067C8 5460E8FF */  rlwinm. r0, r3, 0x1d, 3, 0x1f
/* 00122C 800067CC 7C0903A6 */  mtctr   r0
/* 001230 800067D0 41820034 */  beq     lbl_80006804
lbl_800067D4:
/* 001234 800067D4 90860000 */  stw     r4, 0(r6)
/* 001238 800067D8 90860004 */  stw     r4, 4(r6)
/* 00123C 800067DC 90860008 */  stw     r4, 8(r6)
/* 001240 800067E0 9086000C */  stw     r4, 0xc(r6)
/* 001244 800067E4 90860010 */  stw     r4, 0x10(r6)
/* 001248 800067E8 90860014 */  stw     r4, 0x14(r6)
/* 00124C 800067EC 90860018 */  stw     r4, 0x18(r6)
/* 001250 800067F0 9086001C */  stw     r4, 0x1c(r6)
/* 001254 800067F4 38C60020 */  addi    r6, r6, 0x20
/* 001258 800067F8 4200FFDC */  bdnz    lbl_800067D4
/* 00125C 800067FC 70630007 */  andi.   r3, r3, 7
/* 001260 80006800 41820014 */  beq     lbl_80006814
lbl_80006804:
/* 001264 80006804 7C6903A6 */  mtctr   r3
lbl_80006808:
/* 001268 80006808 90860000 */  stw     r4, 0(r6)
/* 00126C 8000680C 38C60004 */  addi    r6, r6, 4
/* 001270 80006810 4200FFF8 */  bdnz    lbl_80006808
lbl_80006814:
/* 001274 80006814 806D88E0 */  lwz     r3, gnSizeHeap@sda21(r13)
/* 001278 80006818 38000000 */  li      r0, 0
/* 00127C 8000681C 80AD88C8 */  lwz     r5, gpHeap@sda21(r13)
/* 001280 80006820 7C631670 */  srawi   r3, r3, 2
/* 001284 80006824 38C3FFFE */  addi    r6, r3, -2
/* 001288 80006828 90AD88CC */  stw     r5, gpHeapBlockFirst@sda21(r13)
/* 00128C 8000682C 54C3103A */  slwi    r3, r6, 2
/* 001290 80006830 38830004 */  addi    r4, r3, 4
/* 001294 80006834 806D88CC */  lwz     r3, gpHeapBlockFirst@sda21(r13)
/* 001298 80006838 7CA52214 */  add     r5, r5, r4
/* 00129C 8000683C 54C4D00A */  slwi    r4, r6, 0x1a
/* 0012A0 80006840 90AD88D0 */  stw     r5, gpHeapBlockLast@sda21(r13)
/* 0012A4 80006844 7CC42378 */  or      r4, r6, r4
/* 0012A8 80006848 64840100 */  oris    r4, r4, 0x100
/* 0012AC 8000684C 90830000 */  stw     r4, 0(r3)
/* 0012B0 80006850 806D88D0 */  lwz     r3, gpHeapBlockLast@sda21(r13)
/* 0012B4 80006854 90030000 */  stw     r0, 0(r3)
/* 0012B8 80006858 48000CE9 */  bl      xlHeapBlockCacheReset
/* 0012BC 8000685C 8001000C */  lwz     r0, 0xc(r1)
/* 0012C0 80006860 38600001 */  li      r3, 1
/* 0012C4 80006864 38210008 */  addi    r1, r1, 8
/* 0012C8 80006868 7C0803A6 */  mtlr    r0
/* 0012CC 8000686C 4E800020 */  blr     

glabel xlHeapGetFree
/* 0012D0 80006870 7C0802A6 */  mflr    r0
/* 0012D4 80006874 90010004 */  stw     r0, 4(r1)
/* 0012D8 80006878 9421FFE8 */  stwu    r1, -0x18(r1)
/* 0012DC 8000687C 93E10014 */  stw     r31, 0x14(r1)
/* 0012E0 80006880 7C7F1B78 */  mr      r31, r3
/* 0012E4 80006884 480006E5 */  bl      xlHeapCompact
/* 0012E8 80006888 2C030000 */  cmpwi   r3, 0
/* 0012EC 8000688C 4082000C */  bne     lbl_80006898
/* 0012F0 80006890 38600000 */  li      r3, 0
/* 0012F4 80006894 48000060 */  b       lbl_800068F4
lbl_80006898:
/* 0012F8 80006898 80CD88CC */  lwz     r6, gpHeapBlockFirst@sda21(r13)
/* 0012FC 8000689C 38A00000 */  li      r5, 0
/* 001300 800068A0 808D88D0 */  lwz     r4, gpHeapBlockLast@sda21(r13)
/* 001304 800068A4 48000040 */  b       lbl_800068E4
lbl_800068A8:
/* 001308 800068A8 80E60000 */  lwz     r7, 0(r6)
/* 00130C 800068AC 54E306BE */  clrlwi  r3, r7, 0x1a
/* 001310 800068B0 54E036BE */  srwi    r0, r7, 0x1a
/* 001314 800068B4 7C030040 */  cmplw   r3, r0
/* 001318 800068B8 54E3023E */  clrlwi  r3, r7, 8
/* 00131C 800068BC 4182000C */  beq     lbl_800068C8
/* 001320 800068C0 38600000 */  li      r3, 0
/* 001324 800068C4 48000030 */  b       lbl_800068F4
lbl_800068C8:
/* 001328 800068C8 54E001CF */  rlwinm. r0, r7, 0, 7, 7
/* 00132C 800068CC 4182000C */  beq     lbl_800068D8
/* 001330 800068D0 5460103A */  slwi    r0, r3, 2
/* 001334 800068D4 7CA50214 */  add     r5, r5, r0
lbl_800068D8:
/* 001338 800068D8 38030001 */  addi    r0, r3, 1
/* 00133C 800068DC 5400103A */  slwi    r0, r0, 2
/* 001340 800068E0 7CC60214 */  add     r6, r6, r0
lbl_800068E4:
/* 001344 800068E4 7C062040 */  cmplw   r6, r4
/* 001348 800068E8 4180FFC0 */  blt     lbl_800068A8
/* 00134C 800068EC 90BF0000 */  stw     r5, 0(r31)
/* 001350 800068F0 38600001 */  li      r3, 1
lbl_800068F4:
/* 001354 800068F4 8001001C */  lwz     r0, 0x1c(r1)
/* 001358 800068F8 83E10014 */  lwz     r31, 0x14(r1)
/* 00135C 800068FC 38210018 */  addi    r1, r1, 0x18
/* 001360 80006900 7C0803A6 */  mtlr    r0
/* 001364 80006904 4E800020 */  blr     

glabel xlHeapFill32
/* 001368 80006908 7C861670 */  srawi   r6, r4, 2
/* 00136C 8000690C 2C060010 */  cmpwi   r6, 0x10
/* 001370 80006910 3886FFFF */  addi    r4, r6, -1
/* 001374 80006914 5484E13E */  srwi    r4, r4, 4
/* 001378 80006918 40810178 */  ble     lbl_80006A90
/* 00137C 8000691C 5480F0BF */  rlwinm. r0, r4, 0x1e, 2, 0x1f
/* 001380 80006920 7C0903A6 */  mtctr   r0
/* 001384 80006924 54802036 */  slwi    r0, r4, 4
/* 001388 80006928 7C0000D0 */  neg     r0, r0
/* 00138C 8000692C 41820114 */  beq     lbl_80006A40
lbl_80006930:
/* 001390 80006930 90A30000 */  stw     r5, 0(r3)
/* 001394 80006934 90A30004 */  stw     r5, 4(r3)
/* 001398 80006938 90A30008 */  stw     r5, 8(r3)
/* 00139C 8000693C 90A3000C */  stw     r5, 0xc(r3)
/* 0013A0 80006940 90A30010 */  stw     r5, 0x10(r3)
/* 0013A4 80006944 90A30014 */  stw     r5, 0x14(r3)
/* 0013A8 80006948 90A30018 */  stw     r5, 0x18(r3)
/* 0013AC 8000694C 90A3001C */  stw     r5, 0x1c(r3)
/* 0013B0 80006950 90A30020 */  stw     r5, 0x20(r3)
/* 0013B4 80006954 90A30024 */  stw     r5, 0x24(r3)
/* 0013B8 80006958 90A30028 */  stw     r5, 0x28(r3)
/* 0013BC 8000695C 90A3002C */  stw     r5, 0x2c(r3)
/* 0013C0 80006960 90A30030 */  stw     r5, 0x30(r3)
/* 0013C4 80006964 90A30034 */  stw     r5, 0x34(r3)
/* 0013C8 80006968 90A30038 */  stw     r5, 0x38(r3)
/* 0013CC 8000696C 90A3003C */  stw     r5, 0x3c(r3)
/* 0013D0 80006970 90A30040 */  stw     r5, 0x40(r3)
/* 0013D4 80006974 90A30044 */  stw     r5, 0x44(r3)
/* 0013D8 80006978 90A30048 */  stw     r5, 0x48(r3)
/* 0013DC 8000697C 90A3004C */  stw     r5, 0x4c(r3)
/* 0013E0 80006980 90A30050 */  stw     r5, 0x50(r3)
/* 0013E4 80006984 90A30054 */  stw     r5, 0x54(r3)
/* 0013E8 80006988 90A30058 */  stw     r5, 0x58(r3)
/* 0013EC 8000698C 90A3005C */  stw     r5, 0x5c(r3)
/* 0013F0 80006990 90A30060 */  stw     r5, 0x60(r3)
/* 0013F4 80006994 90A30064 */  stw     r5, 0x64(r3)
/* 0013F8 80006998 90A30068 */  stw     r5, 0x68(r3)
/* 0013FC 8000699C 90A3006C */  stw     r5, 0x6c(r3)
/* 001400 800069A0 90A30070 */  stw     r5, 0x70(r3)
/* 001404 800069A4 90A30074 */  stw     r5, 0x74(r3)
/* 001408 800069A8 90A30078 */  stw     r5, 0x78(r3)
/* 00140C 800069AC 90A3007C */  stw     r5, 0x7c(r3)
/* 001410 800069B0 90A30080 */  stw     r5, 0x80(r3)
/* 001414 800069B4 90A30084 */  stw     r5, 0x84(r3)
/* 001418 800069B8 90A30088 */  stw     r5, 0x88(r3)
/* 00141C 800069BC 90A3008C */  stw     r5, 0x8c(r3)
/* 001420 800069C0 90A30090 */  stw     r5, 0x90(r3)
/* 001424 800069C4 90A30094 */  stw     r5, 0x94(r3)
/* 001428 800069C8 90A30098 */  stw     r5, 0x98(r3)
/* 00142C 800069CC 90A3009C */  stw     r5, 0x9c(r3)
/* 001430 800069D0 90A300A0 */  stw     r5, 0xa0(r3)
/* 001434 800069D4 90A300A4 */  stw     r5, 0xa4(r3)
/* 001438 800069D8 90A300A8 */  stw     r5, 0xa8(r3)
/* 00143C 800069DC 90A300AC */  stw     r5, 0xac(r3)
/* 001440 800069E0 90A300B0 */  stw     r5, 0xb0(r3)
/* 001444 800069E4 90A300B4 */  stw     r5, 0xb4(r3)
/* 001448 800069E8 90A300B8 */  stw     r5, 0xb8(r3)
/* 00144C 800069EC 90A300BC */  stw     r5, 0xbc(r3)
/* 001450 800069F0 90A300C0 */  stw     r5, 0xc0(r3)
/* 001454 800069F4 90A300C4 */  stw     r5, 0xc4(r3)
/* 001458 800069F8 90A300C8 */  stw     r5, 0xc8(r3)
/* 00145C 800069FC 90A300CC */  stw     r5, 0xcc(r3)
/* 001460 80006A00 90A300D0 */  stw     r5, 0xd0(r3)
/* 001464 80006A04 90A300D4 */  stw     r5, 0xd4(r3)
/* 001468 80006A08 90A300D8 */  stw     r5, 0xd8(r3)
/* 00146C 80006A0C 90A300DC */  stw     r5, 0xdc(r3)
/* 001470 80006A10 90A300E0 */  stw     r5, 0xe0(r3)
/* 001474 80006A14 90A300E4 */  stw     r5, 0xe4(r3)
/* 001478 80006A18 90A300E8 */  stw     r5, 0xe8(r3)
/* 00147C 80006A1C 90A300EC */  stw     r5, 0xec(r3)
/* 001480 80006A20 90A300F0 */  stw     r5, 0xf0(r3)
/* 001484 80006A24 90A300F4 */  stw     r5, 0xf4(r3)
/* 001488 80006A28 90A300F8 */  stw     r5, 0xf8(r3)
/* 00148C 80006A2C 90A300FC */  stw     r5, 0xfc(r3)
/* 001490 80006A30 38630100 */  addi    r3, r3, 0x100
/* 001494 80006A34 4200FEFC */  bdnz    lbl_80006930
/* 001498 80006A38 70840003 */  andi.   r4, r4, 3
/* 00149C 80006A3C 41820050 */  beq     lbl_80006A8C
lbl_80006A40:
/* 0014A0 80006A40 7C8903A6 */  mtctr   r4
lbl_80006A44:
/* 0014A4 80006A44 90A30000 */  stw     r5, 0(r3)
/* 0014A8 80006A48 90A30004 */  stw     r5, 4(r3)
/* 0014AC 80006A4C 90A30008 */  stw     r5, 8(r3)
/* 0014B0 80006A50 90A3000C */  stw     r5, 0xc(r3)
/* 0014B4 80006A54 90A30010 */  stw     r5, 0x10(r3)
/* 0014B8 80006A58 90A30014 */  stw     r5, 0x14(r3)
/* 0014BC 80006A5C 90A30018 */  stw     r5, 0x18(r3)
/* 0014C0 80006A60 90A3001C */  stw     r5, 0x1c(r3)
/* 0014C4 80006A64 90A30020 */  stw     r5, 0x20(r3)
/* 0014C8 80006A68 90A30024 */  stw     r5, 0x24(r3)
/* 0014CC 80006A6C 90A30028 */  stw     r5, 0x28(r3)
/* 0014D0 80006A70 90A3002C */  stw     r5, 0x2c(r3)
/* 0014D4 80006A74 90A30030 */  stw     r5, 0x30(r3)
/* 0014D8 80006A78 90A30034 */  stw     r5, 0x34(r3)
/* 0014DC 80006A7C 90A30038 */  stw     r5, 0x38(r3)
/* 0014E0 80006A80 90A3003C */  stw     r5, 0x3c(r3)
/* 0014E4 80006A84 38630040 */  addi    r3, r3, 0x40
/* 0014E8 80006A88 4200FFBC */  bdnz    lbl_80006A44
lbl_80006A8C:
/* 0014EC 80006A8C 7CC60214 */  add     r6, r6, r0
lbl_80006A90:
/* 0014F0 80006A90 2C060000 */  cmpwi   r6, 0
/* 0014F4 80006A94 38860000 */  addi    r4, r6, 0
/* 0014F8 80006A98 40810050 */  ble     lbl_80006AE8
/* 0014FC 80006A9C 5480E8FF */  rlwinm. r0, r4, 0x1d, 3, 0x1f
/* 001500 80006AA0 7C0903A6 */  mtctr   r0
/* 001504 80006AA4 41820034 */  beq     lbl_80006AD8
lbl_80006AA8:
/* 001508 80006AA8 90A30000 */  stw     r5, 0(r3)
/* 00150C 80006AAC 90A30004 */  stw     r5, 4(r3)
/* 001510 80006AB0 90A30008 */  stw     r5, 8(r3)
/* 001514 80006AB4 90A3000C */  stw     r5, 0xc(r3)
/* 001518 80006AB8 90A30010 */  stw     r5, 0x10(r3)
/* 00151C 80006ABC 90A30014 */  stw     r5, 0x14(r3)
/* 001520 80006AC0 90A30018 */  stw     r5, 0x18(r3)
/* 001524 80006AC4 90A3001C */  stw     r5, 0x1c(r3)
/* 001528 80006AC8 38630020 */  addi    r3, r3, 0x20
/* 00152C 80006ACC 4200FFDC */  bdnz    lbl_80006AA8
/* 001530 80006AD0 70840007 */  andi.   r4, r4, 7
/* 001534 80006AD4 41820014 */  beq     lbl_80006AE8
lbl_80006AD8:
/* 001538 80006AD8 7C8903A6 */  mtctr   r4
lbl_80006ADC:
/* 00153C 80006ADC 90A30000 */  stw     r5, 0(r3)
/* 001540 80006AE0 38630004 */  addi    r3, r3, 4
/* 001544 80006AE4 4200FFF8 */  bdnz    lbl_80006ADC
lbl_80006AE8:
/* 001548 80006AE8 38600001 */  li      r3, 1
/* 00154C 80006AEC 4E800020 */  blr     

glabel xlHeapCopy
/* 001550 80006AF0 548007BF */  clrlwi. r0, r4, 0x1e
/* 001554 80006AF4 40820244 */  bne     lbl_80006D38
/* 001558 80006AF8 546007BF */  clrlwi. r0, r3, 0x1e
/* 00155C 80006AFC 4082023C */  bne     lbl_80006D38
/* 001560 80006B00 54A0D1BE */  srwi    r0, r5, 6
/* 001564 80006B04 2C050040 */  cmpwi   r5, 0x40
/* 001568 80006B08 7C0903A6 */  mtctr   r0
/* 00156C 80006B0C 41800094 */  blt     lbl_80006BA0
lbl_80006B10:
/* 001570 80006B10 80040000 */  lwz     r0, 0(r4)
/* 001574 80006B14 38A5FFC0 */  addi    r5, r5, -64
/* 001578 80006B18 90030000 */  stw     r0, 0(r3)
/* 00157C 80006B1C 80040004 */  lwz     r0, 4(r4)
/* 001580 80006B20 90030004 */  stw     r0, 4(r3)
/* 001584 80006B24 80040008 */  lwz     r0, 8(r4)
/* 001588 80006B28 90030008 */  stw     r0, 8(r3)
/* 00158C 80006B2C 8004000C */  lwz     r0, 0xc(r4)
/* 001590 80006B30 9003000C */  stw     r0, 0xc(r3)
/* 001594 80006B34 80040010 */  lwz     r0, 0x10(r4)
/* 001598 80006B38 90030010 */  stw     r0, 0x10(r3)
/* 00159C 80006B3C 80040014 */  lwz     r0, 0x14(r4)
/* 0015A0 80006B40 90030014 */  stw     r0, 0x14(r3)
/* 0015A4 80006B44 80040018 */  lwz     r0, 0x18(r4)
/* 0015A8 80006B48 90030018 */  stw     r0, 0x18(r3)
/* 0015AC 80006B4C 8004001C */  lwz     r0, 0x1c(r4)
/* 0015B0 80006B50 9003001C */  stw     r0, 0x1c(r3)
/* 0015B4 80006B54 80040020 */  lwz     r0, 0x20(r4)
/* 0015B8 80006B58 90030020 */  stw     r0, 0x20(r3)
/* 0015BC 80006B5C 80040024 */  lwz     r0, 0x24(r4)
/* 0015C0 80006B60 90030024 */  stw     r0, 0x24(r3)
/* 0015C4 80006B64 80040028 */  lwz     r0, 0x28(r4)
/* 0015C8 80006B68 90030028 */  stw     r0, 0x28(r3)
/* 0015CC 80006B6C 8004002C */  lwz     r0, 0x2c(r4)
/* 0015D0 80006B70 9003002C */  stw     r0, 0x2c(r3)
/* 0015D4 80006B74 80040030 */  lwz     r0, 0x30(r4)
/* 0015D8 80006B78 90030030 */  stw     r0, 0x30(r3)
/* 0015DC 80006B7C 80040034 */  lwz     r0, 0x34(r4)
/* 0015E0 80006B80 90030034 */  stw     r0, 0x34(r3)
/* 0015E4 80006B84 80040038 */  lwz     r0, 0x38(r4)
/* 0015E8 80006B88 90030038 */  stw     r0, 0x38(r3)
/* 0015EC 80006B8C 8004003C */  lwz     r0, 0x3c(r4)
/* 0015F0 80006B90 38840040 */  addi    r4, r4, 0x40
/* 0015F4 80006B94 9003003C */  stw     r0, 0x3c(r3)
/* 0015F8 80006B98 38630040 */  addi    r3, r3, 0x40
/* 0015FC 80006B9C 4200FF74 */  bdnz    lbl_80006B10
lbl_80006BA0:
/* 001600 80006BA0 2C050020 */  cmpwi   r5, 0x20
/* 001604 80006BA4 54A6D97E */  srwi    r6, r5, 5
/* 001608 80006BA8 41800100 */  blt     lbl_80006CA8
/* 00160C 80006BAC 54C0F87F */  rlwinm. r0, r6, 0x1f, 1, 0x1f
/* 001610 80006BB0 7C0903A6 */  mtctr   r0
/* 001614 80006BB4 54C02834 */  slwi    r0, r6, 5
/* 001618 80006BB8 7C0000D0 */  neg     r0, r0
/* 00161C 80006BBC 41820098 */  beq     lbl_80006C54
lbl_80006BC0:
/* 001620 80006BC0 80E40000 */  lwz     r7, 0(r4)
/* 001624 80006BC4 90E30000 */  stw     r7, 0(r3)
/* 001628 80006BC8 80E40004 */  lwz     r7, 4(r4)
/* 00162C 80006BCC 90E30004 */  stw     r7, 4(r3)
/* 001630 80006BD0 80E40008 */  lwz     r7, 8(r4)
/* 001634 80006BD4 90E30008 */  stw     r7, 8(r3)
/* 001638 80006BD8 80E4000C */  lwz     r7, 0xc(r4)
/* 00163C 80006BDC 90E3000C */  stw     r7, 0xc(r3)
/* 001640 80006BE0 80E40010 */  lwz     r7, 0x10(r4)
/* 001644 80006BE4 90E30010 */  stw     r7, 0x10(r3)
/* 001648 80006BE8 80E40014 */  lwz     r7, 0x14(r4)
/* 00164C 80006BEC 90E30014 */  stw     r7, 0x14(r3)
/* 001650 80006BF0 80E40018 */  lwz     r7, 0x18(r4)
/* 001654 80006BF4 90E30018 */  stw     r7, 0x18(r3)
/* 001658 80006BF8 80E4001C */  lwz     r7, 0x1c(r4)
/* 00165C 80006BFC 90E3001C */  stw     r7, 0x1c(r3)
/* 001660 80006C00 80E40020 */  lwz     r7, 0x20(r4)
/* 001664 80006C04 90E30020 */  stw     r7, 0x20(r3)
/* 001668 80006C08 80E40024 */  lwz     r7, 0x24(r4)
/* 00166C 80006C0C 90E30024 */  stw     r7, 0x24(r3)
/* 001670 80006C10 80E40028 */  lwz     r7, 0x28(r4)
/* 001674 80006C14 90E30028 */  stw     r7, 0x28(r3)
/* 001678 80006C18 80E4002C */  lwz     r7, 0x2c(r4)
/* 00167C 80006C1C 90E3002C */  stw     r7, 0x2c(r3)
/* 001680 80006C20 80E40030 */  lwz     r7, 0x30(r4)
/* 001684 80006C24 90E30030 */  stw     r7, 0x30(r3)
/* 001688 80006C28 80E40034 */  lwz     r7, 0x34(r4)
/* 00168C 80006C2C 90E30034 */  stw     r7, 0x34(r3)
/* 001690 80006C30 80E40038 */  lwz     r7, 0x38(r4)
/* 001694 80006C34 90E30038 */  stw     r7, 0x38(r3)
/* 001698 80006C38 80E4003C */  lwz     r7, 0x3c(r4)
/* 00169C 80006C3C 38840040 */  addi    r4, r4, 0x40
/* 0016A0 80006C40 90E3003C */  stw     r7, 0x3c(r3)
/* 0016A4 80006C44 38630040 */  addi    r3, r3, 0x40
/* 0016A8 80006C48 4200FF78 */  bdnz    lbl_80006BC0
/* 0016AC 80006C4C 70C60001 */  andi.   r6, r6, 1
/* 0016B0 80006C50 41820054 */  beq     lbl_80006CA4
lbl_80006C54:
/* 0016B4 80006C54 7CC903A6 */  mtctr   r6
lbl_80006C58:
/* 0016B8 80006C58 80E40000 */  lwz     r7, 0(r4)
/* 0016BC 80006C5C 90E30000 */  stw     r7, 0(r3)
/* 0016C0 80006C60 80E40004 */  lwz     r7, 4(r4)
/* 0016C4 80006C64 90E30004 */  stw     r7, 4(r3)
/* 0016C8 80006C68 80E40008 */  lwz     r7, 8(r4)
/* 0016CC 80006C6C 90E30008 */  stw     r7, 8(r3)
/* 0016D0 80006C70 80E4000C */  lwz     r7, 0xc(r4)
/* 0016D4 80006C74 90E3000C */  stw     r7, 0xc(r3)
/* 0016D8 80006C78 80E40010 */  lwz     r7, 0x10(r4)
/* 0016DC 80006C7C 90E30010 */  stw     r7, 0x10(r3)
/* 0016E0 80006C80 80E40014 */  lwz     r7, 0x14(r4)
/* 0016E4 80006C84 90E30014 */  stw     r7, 0x14(r3)
/* 0016E8 80006C88 80E40018 */  lwz     r7, 0x18(r4)
/* 0016EC 80006C8C 90E30018 */  stw     r7, 0x18(r3)
/* 0016F0 80006C90 80E4001C */  lwz     r7, 0x1c(r4)
/* 0016F4 80006C94 38840020 */  addi    r4, r4, 0x20
/* 0016F8 80006C98 90E3001C */  stw     r7, 0x1c(r3)
/* 0016FC 80006C9C 38630020 */  addi    r3, r3, 0x20
/* 001700 80006CA0 4200FFB8 */  bdnz    lbl_80006C58
lbl_80006CA4:
/* 001704 80006CA4 7CA50214 */  add     r5, r5, r0
lbl_80006CA8:
/* 001708 80006CA8 2C050004 */  cmpwi   r5, 4
/* 00170C 80006CAC 54A6F0BE */  srwi    r6, r5, 2
/* 001710 80006CB0 41800088 */  blt     lbl_80006D38
/* 001714 80006CB4 54C0E8FF */  rlwinm. r0, r6, 0x1d, 3, 0x1f
/* 001718 80006CB8 7C0903A6 */  mtctr   r0
/* 00171C 80006CBC 54C0103A */  slwi    r0, r6, 2
/* 001720 80006CC0 7C0000D0 */  neg     r0, r0
/* 001724 80006CC4 41820058 */  beq     lbl_80006D1C
lbl_80006CC8:
/* 001728 80006CC8 80E40000 */  lwz     r7, 0(r4)
/* 00172C 80006CCC 90E30000 */  stw     r7, 0(r3)
/* 001730 80006CD0 80E40004 */  lwz     r7, 4(r4)
/* 001734 80006CD4 90E30004 */  stw     r7, 4(r3)
/* 001738 80006CD8 80E40008 */  lwz     r7, 8(r4)
/* 00173C 80006CDC 90E30008 */  stw     r7, 8(r3)
/* 001740 80006CE0 80E4000C */  lwz     r7, 0xc(r4)
/* 001744 80006CE4 90E3000C */  stw     r7, 0xc(r3)
/* 001748 80006CE8 80E40010 */  lwz     r7, 0x10(r4)
/* 00174C 80006CEC 90E30010 */  stw     r7, 0x10(r3)
/* 001750 80006CF0 80E40014 */  lwz     r7, 0x14(r4)
/* 001754 80006CF4 90E30014 */  stw     r7, 0x14(r3)
/* 001758 80006CF8 80E40018 */  lwz     r7, 0x18(r4)
/* 00175C 80006CFC 90E30018 */  stw     r7, 0x18(r3)
/* 001760 80006D00 80E4001C */  lwz     r7, 0x1c(r4)
/* 001764 80006D04 38840020 */  addi    r4, r4, 0x20
/* 001768 80006D08 90E3001C */  stw     r7, 0x1c(r3)
/* 00176C 80006D0C 38630020 */  addi    r3, r3, 0x20
/* 001770 80006D10 4200FFB8 */  bdnz    lbl_80006CC8
/* 001774 80006D14 70C60007 */  andi.   r6, r6, 7
/* 001778 80006D18 4182001C */  beq     lbl_80006D34
lbl_80006D1C:
/* 00177C 80006D1C 7CC903A6 */  mtctr   r6
lbl_80006D20:
/* 001780 80006D20 80E40000 */  lwz     r7, 0(r4)
/* 001784 80006D24 38840004 */  addi    r4, r4, 4
/* 001788 80006D28 90E30000 */  stw     r7, 0(r3)
/* 00178C 80006D2C 38630004 */  addi    r3, r3, 4
/* 001790 80006D30 4200FFF0 */  bdnz    lbl_80006D20
lbl_80006D34:
/* 001794 80006D34 7CA50214 */  add     r5, r5, r0
lbl_80006D38:
/* 001798 80006D38 54A0E13E */  srwi    r0, r5, 4
/* 00179C 80006D3C 2C050010 */  cmpwi   r5, 0x10
/* 0017A0 80006D40 7C0903A6 */  mtctr   r0
/* 0017A4 80006D44 41800094 */  blt     lbl_80006DD8
lbl_80006D48:
/* 0017A8 80006D48 88040000 */  lbz     r0, 0(r4)
/* 0017AC 80006D4C 38A5FFF0 */  addi    r5, r5, -16
/* 0017B0 80006D50 98030000 */  stb     r0, 0(r3)
/* 0017B4 80006D54 88040001 */  lbz     r0, 1(r4)
/* 0017B8 80006D58 98030001 */  stb     r0, 1(r3)
/* 0017BC 80006D5C 88040002 */  lbz     r0, 2(r4)
/* 0017C0 80006D60 98030002 */  stb     r0, 2(r3)
/* 0017C4 80006D64 88040003 */  lbz     r0, 3(r4)
/* 0017C8 80006D68 98030003 */  stb     r0, 3(r3)
/* 0017CC 80006D6C 88040004 */  lbz     r0, 4(r4)
/* 0017D0 80006D70 98030004 */  stb     r0, 4(r3)
/* 0017D4 80006D74 88040005 */  lbz     r0, 5(r4)
/* 0017D8 80006D78 98030005 */  stb     r0, 5(r3)
/* 0017DC 80006D7C 88040006 */  lbz     r0, 6(r4)
/* 0017E0 80006D80 98030006 */  stb     r0, 6(r3)
/* 0017E4 80006D84 88040007 */  lbz     r0, 7(r4)
/* 0017E8 80006D88 98030007 */  stb     r0, 7(r3)
/* 0017EC 80006D8C 88040008 */  lbz     r0, 8(r4)
/* 0017F0 80006D90 98030008 */  stb     r0, 8(r3)
/* 0017F4 80006D94 88040009 */  lbz     r0, 9(r4)
/* 0017F8 80006D98 98030009 */  stb     r0, 9(r3)
/* 0017FC 80006D9C 8804000A */  lbz     r0, 0xa(r4)
/* 001800 80006DA0 9803000A */  stb     r0, 0xa(r3)
/* 001804 80006DA4 8804000B */  lbz     r0, 0xb(r4)
/* 001808 80006DA8 9803000B */  stb     r0, 0xb(r3)
/* 00180C 80006DAC 8804000C */  lbz     r0, 0xc(r4)
/* 001810 80006DB0 9803000C */  stb     r0, 0xc(r3)
/* 001814 80006DB4 8804000D */  lbz     r0, 0xd(r4)
/* 001818 80006DB8 9803000D */  stb     r0, 0xd(r3)
/* 00181C 80006DBC 8804000E */  lbz     r0, 0xe(r4)
/* 001820 80006DC0 9803000E */  stb     r0, 0xe(r3)
/* 001824 80006DC4 8804000F */  lbz     r0, 0xf(r4)
/* 001828 80006DC8 38840010 */  addi    r4, r4, 0x10
/* 00182C 80006DCC 9803000F */  stb     r0, 0xf(r3)
/* 001830 80006DD0 38630010 */  addi    r3, r3, 0x10
/* 001834 80006DD4 4200FF74 */  bdnz    lbl_80006D48
lbl_80006DD8:
/* 001838 80006DD8 2C050008 */  cmpwi   r5, 8
/* 00183C 80006DDC 54A6E8FE */  srwi    r6, r5, 3
/* 001840 80006DE0 41800100 */  blt     lbl_80006EE0
/* 001844 80006DE4 54C0F87F */  rlwinm. r0, r6, 0x1f, 1, 0x1f
/* 001848 80006DE8 7C0903A6 */  mtctr   r0
/* 00184C 80006DEC 54C01838 */  slwi    r0, r6, 3
/* 001850 80006DF0 7C0000D0 */  neg     r0, r0
/* 001854 80006DF4 41820098 */  beq     lbl_80006E8C
lbl_80006DF8:
/* 001858 80006DF8 88E40000 */  lbz     r7, 0(r4)
/* 00185C 80006DFC 98E30000 */  stb     r7, 0(r3)
/* 001860 80006E00 88E40001 */  lbz     r7, 1(r4)
/* 001864 80006E04 98E30001 */  stb     r7, 1(r3)
/* 001868 80006E08 88E40002 */  lbz     r7, 2(r4)
/* 00186C 80006E0C 98E30002 */  stb     r7, 2(r3)
/* 001870 80006E10 88E40003 */  lbz     r7, 3(r4)
/* 001874 80006E14 98E30003 */  stb     r7, 3(r3)
/* 001878 80006E18 88E40004 */  lbz     r7, 4(r4)
/* 00187C 80006E1C 98E30004 */  stb     r7, 4(r3)
/* 001880 80006E20 88E40005 */  lbz     r7, 5(r4)
/* 001884 80006E24 98E30005 */  stb     r7, 5(r3)
/* 001888 80006E28 88E40006 */  lbz     r7, 6(r4)
/* 00188C 80006E2C 98E30006 */  stb     r7, 6(r3)
/* 001890 80006E30 88E40007 */  lbz     r7, 7(r4)
/* 001894 80006E34 98E30007 */  stb     r7, 7(r3)
/* 001898 80006E38 88E40008 */  lbz     r7, 8(r4)
/* 00189C 80006E3C 98E30008 */  stb     r7, 8(r3)
/* 0018A0 80006E40 88E40009 */  lbz     r7, 9(r4)
/* 0018A4 80006E44 98E30009 */  stb     r7, 9(r3)
/* 0018A8 80006E48 88E4000A */  lbz     r7, 0xa(r4)
/* 0018AC 80006E4C 98E3000A */  stb     r7, 0xa(r3)
/* 0018B0 80006E50 88E4000B */  lbz     r7, 0xb(r4)
/* 0018B4 80006E54 98E3000B */  stb     r7, 0xb(r3)
/* 0018B8 80006E58 88E4000C */  lbz     r7, 0xc(r4)
/* 0018BC 80006E5C 98E3000C */  stb     r7, 0xc(r3)
/* 0018C0 80006E60 88E4000D */  lbz     r7, 0xd(r4)
/* 0018C4 80006E64 98E3000D */  stb     r7, 0xd(r3)
/* 0018C8 80006E68 88E4000E */  lbz     r7, 0xe(r4)
/* 0018CC 80006E6C 98E3000E */  stb     r7, 0xe(r3)
/* 0018D0 80006E70 88E4000F */  lbz     r7, 0xf(r4)
/* 0018D4 80006E74 38840010 */  addi    r4, r4, 0x10
/* 0018D8 80006E78 98E3000F */  stb     r7, 0xf(r3)
/* 0018DC 80006E7C 38630010 */  addi    r3, r3, 0x10
/* 0018E0 80006E80 4200FF78 */  bdnz    lbl_80006DF8
/* 0018E4 80006E84 70C60001 */  andi.   r6, r6, 1
/* 0018E8 80006E88 41820054 */  beq     lbl_80006EDC
lbl_80006E8C:
/* 0018EC 80006E8C 7CC903A6 */  mtctr   r6
lbl_80006E90:
/* 0018F0 80006E90 88E40000 */  lbz     r7, 0(r4)
/* 0018F4 80006E94 98E30000 */  stb     r7, 0(r3)
/* 0018F8 80006E98 88E40001 */  lbz     r7, 1(r4)
/* 0018FC 80006E9C 98E30001 */  stb     r7, 1(r3)
/* 001900 80006EA0 88E40002 */  lbz     r7, 2(r4)
/* 001904 80006EA4 98E30002 */  stb     r7, 2(r3)
/* 001908 80006EA8 88E40003 */  lbz     r7, 3(r4)
/* 00190C 80006EAC 98E30003 */  stb     r7, 3(r3)
/* 001910 80006EB0 88E40004 */  lbz     r7, 4(r4)
/* 001914 80006EB4 98E30004 */  stb     r7, 4(r3)
/* 001918 80006EB8 88E40005 */  lbz     r7, 5(r4)
/* 00191C 80006EBC 98E30005 */  stb     r7, 5(r3)
/* 001920 80006EC0 88E40006 */  lbz     r7, 6(r4)
/* 001924 80006EC4 98E30006 */  stb     r7, 6(r3)
/* 001928 80006EC8 88E40007 */  lbz     r7, 7(r4)
/* 00192C 80006ECC 38840008 */  addi    r4, r4, 8
/* 001930 80006ED0 98E30007 */  stb     r7, 7(r3)
/* 001934 80006ED4 38630008 */  addi    r3, r3, 8
/* 001938 80006ED8 4200FFB8 */  bdnz    lbl_80006E90
lbl_80006EDC:
/* 00193C 80006EDC 7CA50214 */  add     r5, r5, r0
lbl_80006EE0:
/* 001940 80006EE0 2C050000 */  cmpwi   r5, 0
/* 001944 80006EE4 4081007C */  ble     lbl_80006F60
/* 001948 80006EE8 54A0E8FF */  rlwinm. r0, r5, 0x1d, 3, 0x1f
/* 00194C 80006EEC 7C0903A6 */  mtctr   r0
/* 001950 80006EF0 41820058 */  beq     lbl_80006F48
lbl_80006EF4:
/* 001954 80006EF4 88040000 */  lbz     r0, 0(r4)
/* 001958 80006EF8 98030000 */  stb     r0, 0(r3)
/* 00195C 80006EFC 88040001 */  lbz     r0, 1(r4)
/* 001960 80006F00 98030001 */  stb     r0, 1(r3)
/* 001964 80006F04 88040002 */  lbz     r0, 2(r4)
/* 001968 80006F08 98030002 */  stb     r0, 2(r3)
/* 00196C 80006F0C 88040003 */  lbz     r0, 3(r4)
/* 001970 80006F10 98030003 */  stb     r0, 3(r3)
/* 001974 80006F14 88040004 */  lbz     r0, 4(r4)
/* 001978 80006F18 98030004 */  stb     r0, 4(r3)
/* 00197C 80006F1C 88040005 */  lbz     r0, 5(r4)
/* 001980 80006F20 98030005 */  stb     r0, 5(r3)
/* 001984 80006F24 88040006 */  lbz     r0, 6(r4)
/* 001988 80006F28 98030006 */  stb     r0, 6(r3)
/* 00198C 80006F2C 88040007 */  lbz     r0, 7(r4)
/* 001990 80006F30 38840008 */  addi    r4, r4, 8
/* 001994 80006F34 98030007 */  stb     r0, 7(r3)
/* 001998 80006F38 38630008 */  addi    r3, r3, 8
/* 00199C 80006F3C 4200FFB8 */  bdnz    lbl_80006EF4
/* 0019A0 80006F40 70A50007 */  andi.   r5, r5, 7
/* 0019A4 80006F44 4182001C */  beq     lbl_80006F60
lbl_80006F48:
/* 0019A8 80006F48 7CA903A6 */  mtctr   r5
lbl_80006F4C:
/* 0019AC 80006F4C 88040000 */  lbz     r0, 0(r4)
/* 0019B0 80006F50 38840001 */  addi    r4, r4, 1
/* 0019B4 80006F54 98030000 */  stb     r0, 0(r3)
/* 0019B8 80006F58 38630001 */  addi    r3, r3, 1
/* 0019BC 80006F5C 4200FFF0 */  bdnz    lbl_80006F4C
lbl_80006F60:
/* 0019C0 80006F60 38600001 */  li      r3, 1
/* 0019C4 80006F64 4E800020 */  blr     

glabel xlHeapCompact
/* 0019C8 80006F68 7C0802A6 */  mflr    r0
/* 0019CC 80006F6C 38C00000 */  li      r6, 0
/* 0019D0 80006F70 90010004 */  stw     r0, 4(r1)
/* 0019D4 80006F74 9421FFE0 */  stwu    r1, -0x20(r1)
/* 0019D8 80006F78 80AD88CC */  lwz     r5, gpHeapBlockFirst@sda21(r13)
/* 0019DC 80006F7C 480000F8 */  b       lbl_80007074
lbl_80006F80:
/* 0019E0 80006F80 5483103A */  slwi    r3, r4, 2
/* 0019E4 80006F84 38630004 */  addi    r3, r3, 4
/* 0019E8 80006F88 7C651A14 */  add     r3, r5, r3
/* 0019EC 80006F8C 540001CF */  rlwinm. r0, r0, 0, 7, 7
/* 0019F0 80006F90 80E30000 */  lwz     r7, 0(r3)
/* 0019F4 80006F94 7C681B78 */  mr      r8, r3
/* 0019F8 80006F98 418200D4 */  beq     lbl_8000706C
/* 0019FC 80006F9C 80010008 */  lwz     r0, 8(r1)
/* 001A00 80006FA0 38610008 */  addi    r3, r1, 8
/* 001A04 80006FA4 7C002000 */  cmpw    r0, r4
/* 001A08 80006FA8 40800008 */  bge     lbl_80006FB0
/* 001A0C 80006FAC 90810008 */  stw     r4, 8(r1)
lbl_80006FB0:
/* 001A10 80006FB0 84030004 */  lwzu    r0, 4(r3)
/* 001A14 80006FB4 7C002000 */  cmpw    r0, r4
/* 001A18 80006FB8 40800008 */  bge     lbl_80006FC0
/* 001A1C 80006FBC 90830000 */  stw     r4, 0(r3)
lbl_80006FC0:
/* 001A20 80006FC0 84030004 */  lwzu    r0, 4(r3)
/* 001A24 80006FC4 7C002000 */  cmpw    r0, r4
/* 001A28 80006FC8 40800008 */  bge     lbl_80006FD0
/* 001A2C 80006FCC 90830000 */  stw     r4, 0(r3)
lbl_80006FD0:
/* 001A30 80006FD0 84030004 */  lwzu    r0, 4(r3)
/* 001A34 80006FD4 7C002000 */  cmpw    r0, r4
/* 001A38 80006FD8 40800008 */  bge     lbl_80006FE0
/* 001A3C 80006FDC 90830000 */  stw     r4, 0(r3)
lbl_80006FE0:
/* 001A40 80006FE0 84030004 */  lwzu    r0, 4(r3)
/* 001A44 80006FE4 7C002000 */  cmpw    r0, r4
/* 001A48 80006FE8 40800008 */  bge     lbl_80006FF0
/* 001A4C 80006FEC 90830000 */  stw     r4, 0(r3)
lbl_80006FF0:
/* 001A50 80006FF0 84030004 */  lwzu    r0, 4(r3)
/* 001A54 80006FF4 7C002000 */  cmpw    r0, r4
/* 001A58 80006FF8 40800008 */  bge     lbl_80007000
/* 001A5C 80006FFC 90830000 */  stw     r4, 0(r3)
lbl_80007000:
/* 001A60 80007000 54E3023F */  clrlwi. r3, r7, 8
/* 001A64 80007004 4182001C */  beq     lbl_80007020
/* 001A68 80007008 54E001CF */  rlwinm. r0, r7, 0, 7, 7
/* 001A6C 8000700C 41820014 */  beq     lbl_80007020
/* 001A70 80007010 38630001 */  addi    r3, r3, 1
/* 001A74 80007014 5460103A */  slwi    r0, r3, 2
/* 001A78 80007018 7C841A14 */  add     r4, r4, r3
/* 001A7C 8000701C 7D080214 */  add     r8, r8, r0
lbl_80007020:
/* 001A80 80007020 28060000 */  cmplwi  r6, 0
/* 001A84 80007024 41820030 */  beq     lbl_80007054
/* 001A88 80007028 80660000 */  lwz     r3, 0(r6)
/* 001A8C 8000702C 546001CF */  rlwinm. r0, r3, 0, 7, 7
/* 001A90 80007030 41820024 */  beq     lbl_80007054
/* 001A94 80007034 5460023E */  clrlwi  r0, r3, 8
/* 001A98 80007038 7C802214 */  add     r4, r0, r4
/* 001A9C 8000703C 38840001 */  addi    r4, r4, 1
/* 001AA0 80007040 5480D00A */  slwi    r0, r4, 0x1a
/* 001AA4 80007044 7C800378 */  or      r0, r4, r0
/* 001AA8 80007048 64000100 */  oris    r0, r0, 0x100
/* 001AAC 8000704C 90060000 */  stw     r0, 0(r6)
/* 001AB0 80007050 48000020 */  b       lbl_80007070
lbl_80007054:
/* 001AB4 80007054 5480D00A */  slwi    r0, r4, 0x1a
/* 001AB8 80007058 7C800378 */  or      r0, r4, r0
/* 001ABC 8000705C 64000100 */  oris    r0, r0, 0x100
/* 001AC0 80007060 90050000 */  stw     r0, 0(r5)
/* 001AC4 80007064 7CA62B78 */  mr      r6, r5
/* 001AC8 80007068 48000008 */  b       lbl_80007070
lbl_8000706C:
/* 001ACC 8000706C 7CA62B78 */  mr      r6, r5
lbl_80007070:
/* 001AD0 80007070 7D054378 */  mr      r5, r8
lbl_80007074:
/* 001AD4 80007074 80050000 */  lwz     r0, 0(r5)
/* 001AD8 80007078 5404023F */  clrlwi. r4, r0, 8
/* 001ADC 8000707C 4082FF04 */  bne     lbl_80006F80
/* 001AE0 80007080 480004C1 */  bl      xlHeapBlockCacheReset
/* 001AE4 80007084 80010024 */  lwz     r0, 0x24(r1)
/* 001AE8 80007088 38600001 */  li      r3, 1
/* 001AEC 8000708C 38210020 */  addi    r1, r1, 0x20
/* 001AF0 80007090 7C0803A6 */  mtlr    r0
/* 001AF4 80007094 4E800020 */  blr     

glabel xlHeapFree
/* 001AF8 80007098 7C0802A6 */  mflr    r0
/* 001AFC 8000709C 90010004 */  stw     r0, 4(r1)
/* 001B00 800070A0 9421FFE0 */  stwu    r1, -0x20(r1)
/* 001B04 800070A4 93E1001C */  stw     r31, 0x1c(r1)
/* 001B08 800070A8 7C7F1B79 */  or.     r31, r3, r3
/* 001B0C 800070AC 93C10018 */  stw     r30, 0x18(r1)
/* 001B10 800070B0 93A10014 */  stw     r29, 0x14(r1)
/* 001B14 800070B4 93810010 */  stw     r28, 0x10(r1)
/* 001B18 800070B8 41820020 */  beq     lbl_800070D8
/* 001B1C 800070BC 807F0000 */  lwz     r3, 0(r31)
/* 001B20 800070C0 800D88CC */  lwz     r0, gpHeapBlockFirst@sda21(r13)
/* 001B24 800070C4 7C030040 */  cmplw   r3, r0
/* 001B28 800070C8 41800010 */  blt     lbl_800070D8
/* 001B2C 800070CC 800D88D0 */  lwz     r0, gpHeapBlockLast@sda21(r13)
/* 001B30 800070D0 7C030040 */  cmplw   r3, r0
/* 001B34 800070D4 4081000C */  ble     lbl_800070E0
lbl_800070D8:
/* 001B38 800070D8 38600000 */  li      r3, 0
/* 001B3C 800070DC 480000B8 */  b       lbl_80007194
lbl_800070E0:
/* 001B40 800070E0 3B83FFFC */  addi    r28, r3, -4
/* 001B44 800070E4 48000008 */  b       lbl_800070EC
lbl_800070E8:
/* 001B48 800070E8 3B9CFFFC */  addi    r28, r28, -4
lbl_800070EC:
/* 001B4C 800070EC 807C0000 */  lwz     r3, 0(r28)
/* 001B50 800070F0 3C03EDCC */  addis   r0, r3, 0xedcc
/* 001B54 800070F4 2800ABCD */  cmplwi  r0, 0xabcd
/* 001B58 800070F8 4182FFF0 */  beq     lbl_800070E8
/* 001B5C 800070FC 546001CF */  rlwinm. r0, r3, 0, 7, 7
/* 001B60 80007100 547E023E */  clrlwi  r30, r3, 8
/* 001B64 80007104 4182000C */  beq     lbl_80007110
/* 001B68 80007108 38600000 */  li      r3, 0
/* 001B6C 8000710C 48000088 */  b       lbl_80007194
lbl_80007110:
/* 001B70 80007110 5460018D */  rlwinm. r0, r3, 0, 6, 6
/* 001B74 80007114 4082000C */  bne     lbl_80007120
/* 001B78 80007118 38600000 */  li      r3, 0
/* 001B7C 8000711C 48000078 */  b       lbl_80007194
lbl_80007120:
/* 001B80 80007120 546336BE */  srwi    r3, r3, 0x1a
/* 001B84 80007124 57C006BE */  clrlwi  r0, r30, 0x1a
/* 001B88 80007128 7C030040 */  cmplw   r3, r0
/* 001B8C 8000712C 4182000C */  beq     lbl_80007138
/* 001B90 80007130 38600000 */  li      r3, 0
/* 001B94 80007134 48000060 */  b       lbl_80007194
lbl_80007138:
/* 001B98 80007138 57C3103A */  slwi    r3, r30, 2
/* 001B9C 8000713C 38630004 */  addi    r3, r3, 4
/* 001BA0 80007140 7C7C1A14 */  add     r3, r28, r3
/* 001BA4 80007144 80030000 */  lwz     r0, 0(r3)
/* 001BA8 80007148 541D023F */  clrlwi. r29, r0, 8
/* 001BAC 8000714C 41820018 */  beq     lbl_80007164
/* 001BB0 80007150 540001CF */  rlwinm. r0, r0, 0, 7, 7
/* 001BB4 80007154 41820010 */  beq     lbl_80007164
/* 001BB8 80007158 480004F5 */  bl      xlHeapBlockCacheClear
/* 001BBC 8000715C 7FDDF214 */  add     r30, r29, r30
/* 001BC0 80007160 3BDE0001 */  addi    r30, r30, 1
lbl_80007164:
/* 001BC4 80007164 57C0D00A */  slwi    r0, r30, 0x1a
/* 001BC8 80007168 7FC00378 */  or      r0, r30, r0
/* 001BCC 8000716C 64000100 */  oris    r0, r0, 0x100
/* 001BD0 80007170 901C0000 */  stw     r0, 0(r28)
/* 001BD4 80007174 7F83E378 */  mr      r3, r28
/* 001BD8 80007178 480005E1 */  bl      xlHeapBlockCacheAdd
/* 001BDC 8000717C 808D88D8 */  lwz     r4, gnHeapFreeCount@sda21(r13)
/* 001BE0 80007180 38000000 */  li      r0, 0
/* 001BE4 80007184 38600001 */  li      r3, 1
/* 001BE8 80007188 38840001 */  addi    r4, r4, 1
/* 001BEC 8000718C 908D88D8 */  stw     r4, gnHeapFreeCount@sda21(r13)
/* 001BF0 80007190 901F0000 */  stw     r0, 0(r31)
lbl_80007194:
/* 001BF4 80007194 80010024 */  lwz     r0, 0x24(r1)
/* 001BF8 80007198 83E1001C */  lwz     r31, 0x1c(r1)
/* 001BFC 8000719C 83C10018 */  lwz     r30, 0x18(r1)
/* 001C00 800071A0 7C0803A6 */  mtlr    r0
/* 001C04 800071A4 83A10014 */  lwz     r29, 0x14(r1)
/* 001C08 800071A8 83810010 */  lwz     r28, 0x10(r1)
/* 001C0C 800071AC 38210020 */  addi    r1, r1, 0x20
/* 001C10 800071B0 4E800020 */  blr     

glabel xlHeapTake
/* 001C14 800071B4 7C0802A6 */  mflr    r0
/* 001C18 800071B8 54850086 */  rlwinm  r5, r4, 0, 2, 3
/* 001C1C 800071BC 90010004 */  stw     r0, 4(r1)
/* 001C20 800071C0 3C002000 */  lis     r0, 0x2000
/* 001C24 800071C4 7C050000 */  cmpw    r5, r0
/* 001C28 800071C8 9421FFD0 */  stwu    r1, -0x30(r1)
/* 001C2C 800071CC BF410018 */  stmw    r26, 0x18(r1)
/* 001C30 800071D0 3B430000 */  addi    r26, r3, 0
/* 001C34 800071D4 38600000 */  li      r3, 0
/* 001C38 800071D8 3BC00000 */  li      r30, 0
/* 001C3C 800071DC 907A0000 */  stw     r3, 0(r26)
/* 001C40 800071E0 41820044 */  beq     lbl_80007224
/* 001C44 800071E4 40800020 */  bge     lbl_80007204
/* 001C48 800071E8 3C001000 */  lis     r0, 0x1000
/* 001C4C 800071EC 7C050000 */  cmpw    r5, r0
/* 001C50 800071F0 4182002C */  beq     lbl_8000721C
/* 001C54 800071F4 4080003C */  bge     lbl_80007230
/* 001C58 800071F8 2C050000 */  cmpwi   r5, 0
/* 001C5C 800071FC 41820018 */  beq     lbl_80007214
/* 001C60 80007200 48000030 */  b       lbl_80007230
lbl_80007204:
/* 001C64 80007204 3C003000 */  lis     r0, 0x3000
/* 001C68 80007208 7C050000 */  cmpw    r5, r0
/* 001C6C 8000720C 41820020 */  beq     lbl_8000722C
/* 001C70 80007210 48000020 */  b       lbl_80007230
lbl_80007214:
/* 001C74 80007214 3BA00003 */  li      r29, 3
/* 001C78 80007218 48000018 */  b       lbl_80007230
lbl_8000721C:
/* 001C7C 8000721C 3BA00007 */  li      r29, 7
/* 001C80 80007220 48000010 */  b       lbl_80007230
lbl_80007224:
/* 001C84 80007224 3BA0000F */  li      r29, 0xf
/* 001C88 80007228 48000008 */  b       lbl_80007230
lbl_8000722C:
/* 001C8C 8000722C 3BA0001F */  li      r29, 0x1f
lbl_80007230:
/* 001C90 80007230 54800100 */  rlwinm  r0, r4, 0, 4, 0
/* 001C94 80007234 7C00EA14 */  add     r0, r0, r29
/* 001C98 80007238 541BF0BE */  srwi    r27, r0, 2
/* 001C9C 8000723C 2C1B0001 */  cmpwi   r27, 1
/* 001CA0 80007240 4080000C */  bge     lbl_8000724C
/* 001CA4 80007244 38600000 */  li      r3, 0
/* 001CA8 80007248 480001E0 */  b       lbl_80007428
lbl_8000724C:
/* 001CAC 8000724C 3C000100 */  lis     r0, 0x100
/* 001CB0 80007250 7C1B0000 */  cmpw    r27, r0
/* 001CB4 80007254 4081000C */  ble     lbl_80007260
/* 001CB8 80007258 38600000 */  li      r3, 0
/* 001CBC 8000725C 480001CC */  b       lbl_80007428
lbl_80007260:
/* 001CC0 80007260 549F0042 */  rlwinm  r31, r4, 0, 1, 1
/* 001CC4 80007264 3B800000 */  li      r28, 0
/* 001CC8 80007268 480001B0 */  b       lbl_80007418
lbl_8000726C:
/* 001CCC 8000726C 2C1F0000 */  cmpwi   r31, 0
/* 001CD0 80007270 4182001C */  beq     lbl_8000728C
/* 001CD4 80007274 387B0000 */  addi    r3, r27, 0
/* 001CD8 80007278 38810010 */  addi    r4, r1, 0x10
/* 001CDC 8000727C 38A10014 */  addi    r5, r1, 0x14
/* 001CE0 80007280 480001BD */  bl      xlHeapFindUpperBlock
/* 001CE4 80007284 7C7E1B78 */  mr      r30, r3
/* 001CE8 80007288 48000098 */  b       lbl_80007320
lbl_8000728C:
/* 001CEC 8000728C 387B0000 */  addi    r3, r27, 0
/* 001CF0 80007290 38810010 */  addi    r4, r1, 0x10
/* 001CF4 80007294 38A10014 */  addi    r5, r1, 0x14
/* 001CF8 80007298 48000729 */  bl      xlHeapBlockCacheGet
/* 001CFC 8000729C 2C030000 */  cmpwi   r3, 0
/* 001D00 800072A0 4182000C */  beq     lbl_800072AC
/* 001D04 800072A4 3BC00001 */  li      r30, 1
/* 001D08 800072A8 48000078 */  b       lbl_80007320
lbl_800072AC:
/* 001D0C 800072AC 800D88CC */  lwz     r0, gpHeapBlockFirst@sda21(r13)
/* 001D10 800072B0 80AD88D0 */  lwz     r5, gpHeapBlockLast@sda21(r13)
/* 001D14 800072B4 90010010 */  stw     r0, 0x10(r1)
/* 001D18 800072B8 4800005C */  b       lbl_80007314
lbl_800072BC:
/* 001D1C 800072BC 80C30000 */  lwz     r6, 0(r3)
/* 001D20 800072C0 54C306BE */  clrlwi  r3, r6, 0x1a
/* 001D24 800072C4 54C036BE */  srwi    r0, r6, 0x1a
/* 001D28 800072C8 54C4023E */  clrlwi  r4, r6, 8
/* 001D2C 800072CC 7C030040 */  cmplw   r3, r0
/* 001D30 800072D0 90810014 */  stw     r4, 0x14(r1)
/* 001D34 800072D4 4182000C */  beq     lbl_800072E0
/* 001D38 800072D8 38600000 */  li      r3, 0
/* 001D3C 800072DC 4800014C */  b       lbl_80007428
lbl_800072E0:
/* 001D40 800072E0 54C001CF */  rlwinm. r0, r6, 0, 7, 7
/* 001D44 800072E4 41820018 */  beq     lbl_800072FC
/* 001D48 800072E8 80010014 */  lwz     r0, 0x14(r1)
/* 001D4C 800072EC 7C00D800 */  cmpw    r0, r27
/* 001D50 800072F0 4180000C */  blt     lbl_800072FC
/* 001D54 800072F4 3BC00001 */  li      r30, 1
/* 001D58 800072F8 48000028 */  b       lbl_80007320
lbl_800072FC:
/* 001D5C 800072FC 80610014 */  lwz     r3, 0x14(r1)
/* 001D60 80007300 80810010 */  lwz     r4, 0x10(r1)
/* 001D64 80007304 38030001 */  addi    r0, r3, 1
/* 001D68 80007308 5400103A */  slwi    r0, r0, 2
/* 001D6C 8000730C 7C040214 */  add     r0, r4, r0
/* 001D70 80007310 90010010 */  stw     r0, 0x10(r1)
lbl_80007314:
/* 001D74 80007314 80610010 */  lwz     r3, 0x10(r1)
/* 001D78 80007318 7C032840 */  cmplw   r3, r5
/* 001D7C 8000731C 4180FFA0 */  blt     lbl_800072BC
lbl_80007320:
/* 001D80 80007320 2C1E0000 */  cmpwi   r30, 0
/* 001D84 80007324 418200E0 */  beq     lbl_80007404
/* 001D88 80007328 80810014 */  lwz     r4, 0x14(r1)
/* 001D8C 8000732C 3804FFFF */  addi    r0, r4, -1
/* 001D90 80007330 7C1B0000 */  cmpw    r27, r0
/* 001D94 80007334 40820008 */  bne     lbl_8000733C
/* 001D98 80007338 3B7B0001 */  addi    r27, r27, 1
lbl_8000733C:
/* 001D9C 8000733C 7C1B2000 */  cmpw    r27, r4
/* 001DA0 80007340 40800064 */  bge     lbl_800073A4
/* 001DA4 80007344 5483103A */  slwi    r3, r4, 2
/* 001DA8 80007348 80A10010 */  lwz     r5, 0x10(r1)
/* 001DAC 8000734C 38C30004 */  addi    r6, r3, 4
/* 001DB0 80007350 7CC53214 */  add     r6, r5, r6
/* 001DB4 80007354 80060000 */  lwz     r0, 0(r6)
/* 001DB8 80007358 5763103A */  slwi    r3, r27, 2
/* 001DBC 8000735C 3BE30004 */  addi    r31, r3, 4
/* 001DC0 80007360 541E023F */  clrlwi. r30, r0, 8
/* 001DC4 80007364 7C9B2050 */  subf    r4, r27, r4
/* 001DC8 80007368 38660000 */  addi    r3, r6, 0
/* 001DCC 8000736C 7FE5FA14 */  add     r31, r5, r31
/* 001DD0 80007370 3B84FFFF */  addi    r28, r4, -1
/* 001DD4 80007374 41820018 */  beq     lbl_8000738C
/* 001DD8 80007378 540001CF */  rlwinm. r0, r0, 0, 7, 7
/* 001DDC 8000737C 41820010 */  beq     lbl_8000738C
/* 001DE0 80007380 480002CD */  bl      xlHeapBlockCacheClear
/* 001DE4 80007384 7F9EE214 */  add     r28, r30, r28
/* 001DE8 80007388 3B9C0001 */  addi    r28, r28, 1
lbl_8000738C:
/* 001DEC 8000738C 5780D00A */  slwi    r0, r28, 0x1a
/* 001DF0 80007390 7F800378 */  or      r0, r28, r0
/* 001DF4 80007394 64000100 */  oris    r0, r0, 0x100
/* 001DF8 80007398 901F0000 */  stw     r0, 0(r31)
/* 001DFC 8000739C 7FE3FB78 */  mr      r3, r31
/* 001E00 800073A0 480003B9 */  bl      xlHeapBlockCacheAdd
lbl_800073A4:
/* 001E04 800073A4 5760D00A */  slwi    r0, r27, 0x1a
/* 001E08 800073A8 80610010 */  lwz     r3, 0x10(r1)
/* 001E0C 800073AC 7F600378 */  or      r0, r27, r0
/* 001E10 800073B0 64000200 */  oris    r0, r0, 0x200
/* 001E14 800073B4 90030000 */  stw     r0, 0(r3)
/* 001E18 800073B8 3C601235 */  lis     r3, 0x1235
/* 001E1C 800073BC 3883ABCD */  addi    r4, r3, -21555
/* 001E20 800073C0 80AD88D4 */  lwz     r5, gnHeapTakeCount@sda21(r13)
/* 001E24 800073C4 80610010 */  lwz     r3, 0x10(r1)
/* 001E28 800073C8 38A50001 */  addi    r5, r5, 1
/* 001E2C 800073CC 38030004 */  addi    r0, r3, 4
/* 001E30 800073D0 90AD88D4 */  stw     r5, gnHeapTakeCount@sda21(r13)
/* 001E34 800073D4 90010010 */  stw     r0, 0x10(r1)
/* 001E38 800073D8 48000014 */  b       lbl_800073EC
lbl_800073DC:
/* 001E3C 800073DC 80610010 */  lwz     r3, 0x10(r1)
/* 001E40 800073E0 38030004 */  addi    r0, r3, 4
/* 001E44 800073E4 90010010 */  stw     r0, 0x10(r1)
/* 001E48 800073E8 90830000 */  stw     r4, 0(r3)
lbl_800073EC:
/* 001E4C 800073EC 80610010 */  lwz     r3, 0x10(r1)
/* 001E50 800073F0 7C60E839 */  and.    r0, r3, r29
/* 001E54 800073F4 4082FFE8 */  bne     lbl_800073DC
/* 001E58 800073F8 907A0000 */  stw     r3, 0(r26)
/* 001E5C 800073FC 38600001 */  li      r3, 1
/* 001E60 80007400 48000028 */  b       lbl_80007428
lbl_80007404:
/* 001E64 80007404 4BFFFB65 */  bl      xlHeapCompact
/* 001E68 80007408 2C030000 */  cmpwi   r3, 0
/* 001E6C 8000740C 4082000C */  bne     lbl_80007418
/* 001E70 80007410 38600000 */  li      r3, 0
/* 001E74 80007414 48000014 */  b       lbl_80007428
lbl_80007418:
/* 001E78 80007418 281C0008 */  cmplwi  r28, 8
/* 001E7C 8000741C 3B9C0001 */  addi    r28, r28, 1
/* 001E80 80007420 4180FE4C */  blt     lbl_8000726C
/* 001E84 80007424 38600000 */  li      r3, 0
lbl_80007428:
/* 001E88 80007428 BB410018 */  lmw     r26, 0x18(r1)
/* 001E8C 8000742C 80010034 */  lwz     r0, 0x34(r1)
/* 001E90 80007430 38210030 */  addi    r1, r1, 0x30
/* 001E94 80007434 7C0803A6 */  mtlr    r0
/* 001E98 80007438 4E800020 */  blr     

xlHeapFindUpperBlock:
/* 001E9C 8000743C 7C0802A6 */  mflr    r0
/* 001EA0 80007440 90010004 */  stw     r0, 4(r1)
/* 001EA4 80007444 9421FFD0 */  stwu    r1, -0x30(r1)
/* 001EA8 80007448 BF61001C */  stmw    r27, 0x1c(r1)
/* 001EAC 8000744C 7C7C1B78 */  mr      r28, r3
/* 001EB0 80007450 3BA40000 */  addi    r29, r4, 0
/* 001EB4 80007454 3BC50000 */  addi    r30, r5, 0
/* 001EB8 80007458 3BE00000 */  li      r31, 0
/* 001EBC 8000745C 80ED88CC */  lwz     r7, gpHeapBlockFirst@sda21(r13)
/* 001EC0 80007460 80CD88D0 */  lwz     r6, gpHeapBlockLast@sda21(r13)
/* 001EC4 80007464 48000044 */  b       lbl_800074A8
lbl_80007468:
/* 001EC8 80007468 80870000 */  lwz     r4, 0(r7)
/* 001ECC 8000746C 548306BE */  clrlwi  r3, r4, 0x1a
/* 001ED0 80007470 548036BE */  srwi    r0, r4, 0x1a
/* 001ED4 80007474 7C030040 */  cmplw   r3, r0
/* 001ED8 80007478 5483023E */  clrlwi  r3, r4, 8
/* 001EDC 8000747C 4182000C */  beq     lbl_80007488
/* 001EE0 80007480 38600000 */  li      r3, 0
/* 001EE4 80007484 480000A8 */  b       lbl_8000752C
lbl_80007488:
/* 001EE8 80007488 548001CF */  rlwinm. r0, r4, 0, 7, 7
/* 001EEC 8000748C 41820010 */  beq     lbl_8000749C
/* 001EF0 80007490 7C03E000 */  cmpw    r3, r28
/* 001EF4 80007494 41800008 */  blt     lbl_8000749C
/* 001EF8 80007498 7CFF3B78 */  mr      r31, r7
lbl_8000749C:
/* 001EFC 8000749C 38030001 */  addi    r0, r3, 1
/* 001F00 800074A0 5400103A */  slwi    r0, r0, 2
/* 001F04 800074A4 7CE70214 */  add     r7, r7, r0
lbl_800074A8:
/* 001F08 800074A8 7C073040 */  cmplw   r7, r6
/* 001F0C 800074AC 4180FFBC */  blt     lbl_80007468
/* 001F10 800074B0 281F0000 */  cmplwi  r31, 0
/* 001F14 800074B4 4082000C */  bne     lbl_800074C0
/* 001F18 800074B8 38600000 */  li      r3, 0
/* 001F1C 800074BC 48000070 */  b       lbl_8000752C
lbl_800074C0:
/* 001F20 800074C0 801F0000 */  lwz     r0, 0(r31)
/* 001F24 800074C4 387F0000 */  addi    r3, r31, 0
/* 001F28 800074C8 541B023E */  clrlwi  r27, r0, 8
/* 001F2C 800074CC 48000181 */  bl      xlHeapBlockCacheClear
/* 001F30 800074D0 381C0020 */  addi    r0, r28, 0x20
/* 001F34 800074D4 7C1B0000 */  cmpw    r27, r0
/* 001F38 800074D8 40810040 */  ble     lbl_80007518
/* 001F3C 800074DC 7C7CD850 */  subf    r3, r28, r27
/* 001F40 800074E0 3863FFFF */  addi    r3, r3, -1
/* 001F44 800074E4 5780D00A */  slwi    r0, r28, 0x1a
/* 001F48 800074E8 5463103A */  slwi    r3, r3, 2
/* 001F4C 800074EC 7F800378 */  or      r0, r28, r0
/* 001F50 800074F0 7F7F1A14 */  add     r27, r31, r3
/* 001F54 800074F4 64000100 */  oris    r0, r0, 0x100
/* 001F58 800074F8 901B0000 */  stw     r0, 0(r27)
/* 001F5C 800074FC 7FE3FB78 */  mr      r3, r31
/* 001F60 80007500 48000259 */  bl      xlHeapBlockCacheAdd
/* 001F64 80007504 937D0000 */  stw     r27, 0(r29)
/* 001F68 80007508 801B0000 */  lwz     r0, 0(r27)
/* 001F6C 8000750C 5400023E */  clrlwi  r0, r0, 8
/* 001F70 80007510 901E0000 */  stw     r0, 0(r30)
/* 001F74 80007514 48000014 */  b       lbl_80007528
lbl_80007518:
/* 001F78 80007518 93FD0000 */  stw     r31, 0(r29)
/* 001F7C 8000751C 801F0000 */  lwz     r0, 0(r31)
/* 001F80 80007520 5400023E */  clrlwi  r0, r0, 8
/* 001F84 80007524 901E0000 */  stw     r0, 0(r30)
lbl_80007528:
/* 001F88 80007528 38600001 */  li      r3, 1
lbl_8000752C:
/* 001F8C 8000752C BB61001C */  lmw     r27, 0x1c(r1)
/* 001F90 80007530 80010034 */  lwz     r0, 0x34(r1)
/* 001F94 80007534 38210030 */  addi    r1, r1, 0x30
/* 001F98 80007538 7C0803A6 */  mtlr    r0
/* 001F9C 8000753C 4E800020 */  blr     

xlHeapBlockCacheReset:
/* 001FA0 80007540 7C0802A6 */  mflr    r0
/* 001FA4 80007544 3C60800F */  lis     r3, gapHeapBlockCache@ha
/* 001FA8 80007548 90010004 */  stw     r0, 4(r1)
/* 001FAC 8000754C 3800000B */  li      r0, 0xb
/* 001FB0 80007550 38800000 */  li      r4, 0
/* 001FB4 80007554 7C0903A6 */  mtctr   r0
/* 001FB8 80007558 9421FFE0 */  stwu    r1, -0x20(r1)
/* 001FBC 8000755C 38A33FB0 */  addi    r5, r3, gapHeapBlockCache@l
/* 001FC0 80007560 93E1001C */  stw     r31, 0x1c(r1)
/* 001FC4 80007564 93C10018 */  stw     r30, 0x18(r1)
/* 001FC8 80007568 908D88DC */  stw     r4, gnHeapTakeCacheCount@sda21(r13)
/* 001FCC 8000756C 908D88D8 */  stw     r4, gnHeapFreeCount@sda21(r13)
/* 001FD0 80007570 908D88D4 */  stw     r4, gnHeapTakeCount@sda21(r13)
lbl_80007574:
/* 001FD4 80007574 38000000 */  li      r0, 0
/* 001FD8 80007578 90050000 */  stw     r0, 0(r5)
/* 001FDC 8000757C 90050004 */  stw     r0, 4(r5)
/* 001FE0 80007580 90050008 */  stw     r0, 8(r5)
/* 001FE4 80007584 9005000C */  stw     r0, 0xc(r5)
/* 001FE8 80007588 90050010 */  stw     r0, 0x10(r5)
/* 001FEC 8000758C 90050014 */  stw     r0, 0x14(r5)
/* 001FF0 80007590 90050018 */  stw     r0, 0x18(r5)
/* 001FF4 80007594 9005001C */  stw     r0, 0x1c(r5)
/* 001FF8 80007598 90050020 */  stw     r0, 0x20(r5)
/* 001FFC 8000759C 90050024 */  stw     r0, 0x24(r5)
/* 002000 800075A0 90050028 */  stw     r0, 0x28(r5)
/* 002004 800075A4 9005002C */  stw     r0, 0x2c(r5)
/* 002008 800075A8 90050030 */  stw     r0, 0x30(r5)
/* 00200C 800075AC 90050034 */  stw     r0, 0x34(r5)
/* 002010 800075B0 90050038 */  stw     r0, 0x38(r5)
/* 002014 800075B4 9005003C */  stw     r0, 0x3c(r5)
/* 002018 800075B8 90050040 */  stw     r0, 0x40(r5)
/* 00201C 800075BC 90050044 */  stw     r0, 0x44(r5)
/* 002020 800075C0 90050048 */  stw     r0, 0x48(r5)
/* 002024 800075C4 9005004C */  stw     r0, 0x4c(r5)
/* 002028 800075C8 90050050 */  stw     r0, 0x50(r5)
/* 00202C 800075CC 90050054 */  stw     r0, 0x54(r5)
/* 002030 800075D0 90050058 */  stw     r0, 0x58(r5)
/* 002034 800075D4 9005005C */  stw     r0, 0x5c(r5)
/* 002038 800075D8 90050060 */  stw     r0, 0x60(r5)
/* 00203C 800075DC 90050064 */  stw     r0, 0x64(r5)
/* 002040 800075E0 90050068 */  stw     r0, 0x68(r5)
/* 002044 800075E4 9005006C */  stw     r0, 0x6c(r5)
/* 002048 800075E8 90050070 */  stw     r0, 0x70(r5)
/* 00204C 800075EC 90050074 */  stw     r0, 0x74(r5)
/* 002050 800075F0 90050078 */  stw     r0, 0x78(r5)
/* 002054 800075F4 9005007C */  stw     r0, 0x7c(r5)
/* 002058 800075F8 38A50080 */  addi    r5, r5, 0x80
/* 00205C 800075FC 4200FF78 */  bdnz    lbl_80007574
/* 002060 80007600 83CD88CC */  lwz     r30, gpHeapBlockFirst@sda21(r13)
/* 002064 80007604 48000020 */  b       lbl_80007624
lbl_80007608:
/* 002068 80007608 540001CF */  rlwinm. r0, r0, 0, 7, 7
/* 00206C 8000760C 4182000C */  beq     lbl_80007618
/* 002070 80007610 7FC3F378 */  mr      r3, r30
/* 002074 80007614 48000145 */  bl      xlHeapBlockCacheAdd
lbl_80007618:
/* 002078 80007618 381F0001 */  addi    r0, r31, 1
/* 00207C 8000761C 5400103A */  slwi    r0, r0, 2
/* 002080 80007620 7FDE0214 */  add     r30, r30, r0
lbl_80007624:
/* 002084 80007624 801E0000 */  lwz     r0, 0(r30)
/* 002088 80007628 541F023F */  clrlwi. r31, r0, 8
/* 00208C 8000762C 4082FFDC */  bne     lbl_80007608
/* 002090 80007630 80010024 */  lwz     r0, 0x24(r1)
/* 002094 80007634 38600001 */  li      r3, 1
/* 002098 80007638 83E1001C */  lwz     r31, 0x1c(r1)
/* 00209C 8000763C 83C10018 */  lwz     r30, 0x18(r1)
/* 0020A0 80007640 7C0803A6 */  mtlr    r0
/* 0020A4 80007644 38210020 */  addi    r1, r1, 0x20
/* 0020A8 80007648 4E800020 */  blr     

xlHeapBlockCacheClear:
/* 0020AC 8000764C 80030000 */  lwz     r0, 0(r3)
/* 0020B0 80007650 5400023F */  clrlwi. r0, r0, 8
/* 0020B4 80007654 4082000C */  bne     lbl_80007660
/* 0020B8 80007658 38600000 */  li      r3, 0
/* 0020BC 8000765C 4E800020 */  blr     
lbl_80007660:
/* 0020C0 80007660 2C000008 */  cmpwi   r0, 8
/* 0020C4 80007664 4080000C */  bge     lbl_80007670
/* 0020C8 80007668 38000000 */  li      r0, 0
/* 0020CC 8000766C 48000098 */  b       lbl_80007704
lbl_80007670:
/* 0020D0 80007670 2C000010 */  cmpwi   r0, 0x10
/* 0020D4 80007674 4080000C */  bge     lbl_80007680
/* 0020D8 80007678 38000001 */  li      r0, 1
/* 0020DC 8000767C 48000088 */  b       lbl_80007704
lbl_80007680:
/* 0020E0 80007680 2C000020 */  cmpwi   r0, 0x20
/* 0020E4 80007684 4080000C */  bge     lbl_80007690
/* 0020E8 80007688 38000002 */  li      r0, 2
/* 0020EC 8000768C 48000078 */  b       lbl_80007704
lbl_80007690:
/* 0020F0 80007690 2C000040 */  cmpwi   r0, 0x40
/* 0020F4 80007694 4080000C */  bge     lbl_800076A0
/* 0020F8 80007698 38000003 */  li      r0, 3
/* 0020FC 8000769C 48000068 */  b       lbl_80007704
lbl_800076A0:
/* 002100 800076A0 2C000080 */  cmpwi   r0, 0x80
/* 002104 800076A4 4080000C */  bge     lbl_800076B0
/* 002108 800076A8 38000004 */  li      r0, 4
/* 00210C 800076AC 48000058 */  b       lbl_80007704
lbl_800076B0:
/* 002110 800076B0 2C000100 */  cmpwi   r0, 0x100
/* 002114 800076B4 4080000C */  bge     lbl_800076C0
/* 002118 800076B8 38000005 */  li      r0, 5
/* 00211C 800076BC 48000048 */  b       lbl_80007704
lbl_800076C0:
/* 002120 800076C0 2C000200 */  cmpwi   r0, 0x200
/* 002124 800076C4 4080000C */  bge     lbl_800076D0
/* 002128 800076C8 38000006 */  li      r0, 6
/* 00212C 800076CC 48000038 */  b       lbl_80007704
lbl_800076D0:
/* 002130 800076D0 2C000400 */  cmpwi   r0, 0x400
/* 002134 800076D4 4080000C */  bge     lbl_800076E0
/* 002138 800076D8 38000007 */  li      r0, 7
/* 00213C 800076DC 48000028 */  b       lbl_80007704
lbl_800076E0:
/* 002140 800076E0 2C001000 */  cmpwi   r0, 0x1000
/* 002144 800076E4 4080000C */  bge     lbl_800076F0
/* 002148 800076E8 38000008 */  li      r0, 8
/* 00214C 800076EC 48000018 */  b       lbl_80007704
lbl_800076F0:
/* 002150 800076F0 2C002000 */  cmpwi   r0, 0x2000
/* 002154 800076F4 4080000C */  bge     lbl_80007700
/* 002158 800076F8 38000009 */  li      r0, 9
/* 00215C 800076FC 48000008 */  b       lbl_80007704
lbl_80007700:
/* 002160 80007700 3800000A */  li      r0, 0xa
lbl_80007704:
/* 002164 80007704 3C80800F */  lis     r4, gapHeapBlockCache@ha
/* 002168 80007708 54053830 */  slwi    r5, r0, 7
/* 00216C 8000770C 38043FB0 */  addi    r0, r4, gapHeapBlockCache@l
/* 002170 80007710 7CA02A14 */  add     r5, r0, r5
/* 002174 80007714 38000020 */  li      r0, 0x20
/* 002178 80007718 7C0903A6 */  mtctr   r0
/* 00217C 8000771C 38850000 */  addi    r4, r5, 0
/* 002180 80007720 38C00000 */  li      r6, 0
lbl_80007724:
/* 002184 80007724 80040000 */  lwz     r0, 0(r4)
/* 002188 80007728 7C001840 */  cmplw   r0, r3
/* 00218C 8000772C 40820018 */  bne     lbl_80007744
/* 002190 80007730 54C0103A */  slwi    r0, r6, 2
/* 002194 80007734 38600000 */  li      r3, 0
/* 002198 80007738 7C65012E */  stwx    r3, r5, r0
/* 00219C 8000773C 38600001 */  li      r3, 1
/* 0021A0 80007740 4E800020 */  blr     
lbl_80007744:
/* 0021A4 80007744 38840004 */  addi    r4, r4, 4
/* 0021A8 80007748 38C60001 */  addi    r6, r6, 1
/* 0021AC 8000774C 4200FFD8 */  bdnz    lbl_80007724
/* 0021B0 80007750 38600000 */  li      r3, 0
/* 0021B4 80007754 4E800020 */  blr     

xlHeapBlockCacheAdd:
/* 0021B8 80007758 80030000 */  lwz     r0, 0(r3)
/* 0021BC 8000775C 5406023F */  clrlwi. r6, r0, 8
/* 0021C0 80007760 4082000C */  bne     lbl_8000776C
/* 0021C4 80007764 38600000 */  li      r3, 0
/* 0021C8 80007768 4E800020 */  blr     
lbl_8000776C:
/* 0021CC 8000776C 2C060008 */  cmpwi   r6, 8
/* 0021D0 80007770 4080000C */  bge     lbl_8000777C
/* 0021D4 80007774 38000000 */  li      r0, 0
/* 0021D8 80007778 48000098 */  b       lbl_80007810
lbl_8000777C:
/* 0021DC 8000777C 2C060010 */  cmpwi   r6, 0x10
/* 0021E0 80007780 4080000C */  bge     lbl_8000778C
/* 0021E4 80007784 38000001 */  li      r0, 1
/* 0021E8 80007788 48000088 */  b       lbl_80007810
lbl_8000778C:
/* 0021EC 8000778C 2C060020 */  cmpwi   r6, 0x20
/* 0021F0 80007790 4080000C */  bge     lbl_8000779C
/* 0021F4 80007794 38000002 */  li      r0, 2
/* 0021F8 80007798 48000078 */  b       lbl_80007810
lbl_8000779C:
/* 0021FC 8000779C 2C060040 */  cmpwi   r6, 0x40
/* 002200 800077A0 4080000C */  bge     lbl_800077AC
/* 002204 800077A4 38000003 */  li      r0, 3
/* 002208 800077A8 48000068 */  b       lbl_80007810
lbl_800077AC:
/* 00220C 800077AC 2C060080 */  cmpwi   r6, 0x80
/* 002210 800077B0 4080000C */  bge     lbl_800077BC
/* 002214 800077B4 38000004 */  li      r0, 4
/* 002218 800077B8 48000058 */  b       lbl_80007810
lbl_800077BC:
/* 00221C 800077BC 2C060100 */  cmpwi   r6, 0x100
/* 002220 800077C0 4080000C */  bge     lbl_800077CC
/* 002224 800077C4 38000005 */  li      r0, 5
/* 002228 800077C8 48000048 */  b       lbl_80007810
lbl_800077CC:
/* 00222C 800077CC 2C060200 */  cmpwi   r6, 0x200
/* 002230 800077D0 4080000C */  bge     lbl_800077DC
/* 002234 800077D4 38000006 */  li      r0, 6
/* 002238 800077D8 48000038 */  b       lbl_80007810
lbl_800077DC:
/* 00223C 800077DC 2C060400 */  cmpwi   r6, 0x400
/* 002240 800077E0 4080000C */  bge     lbl_800077EC
/* 002244 800077E4 38000007 */  li      r0, 7
/* 002248 800077E8 48000028 */  b       lbl_80007810
lbl_800077EC:
/* 00224C 800077EC 2C061000 */  cmpwi   r6, 0x1000
/* 002250 800077F0 4080000C */  bge     lbl_800077FC
/* 002254 800077F4 38000008 */  li      r0, 8
/* 002258 800077F8 48000018 */  b       lbl_80007810
lbl_800077FC:
/* 00225C 800077FC 2C062000 */  cmpwi   r6, 0x2000
/* 002260 80007800 4080000C */  bge     lbl_8000780C
/* 002264 80007804 38000009 */  li      r0, 9
/* 002268 80007808 48000008 */  b       lbl_80007810
lbl_8000780C:
/* 00226C 8000780C 3800000A */  li      r0, 0xa
lbl_80007810:
/* 002270 80007810 3C80800F */  lis     r4, gapHeapBlockCache@ha
/* 002274 80007814 54053830 */  slwi    r5, r0, 7
/* 002278 80007818 38043FB0 */  addi    r0, r4, gapHeapBlockCache@l
/* 00227C 8000781C 7CA02A14 */  add     r5, r0, r5
/* 002280 80007820 38000004 */  li      r0, 4
/* 002284 80007824 7C0903A6 */  mtctr   r0
/* 002288 80007828 38850000 */  addi    r4, r5, 0
/* 00228C 8000782C 38E00000 */  li      r7, 0
lbl_80007830:
/* 002290 80007830 81040000 */  lwz     r8, 0(r4)
/* 002294 80007834 28080000 */  cmplwi  r8, 0
/* 002298 80007838 41820014 */  beq     lbl_8000784C
/* 00229C 8000783C 80080000 */  lwz     r0, 0(r8)
/* 0022A0 80007840 5400023E */  clrlwi  r0, r0, 8
/* 0022A4 80007844 7C003000 */  cmpw    r0, r6
/* 0022A8 80007848 40800014 */  bge     lbl_8000785C
lbl_8000784C:
/* 0022AC 8000784C 54E0103A */  slwi    r0, r7, 2
/* 0022B0 80007850 7C65012E */  stwx    r3, r5, r0
/* 0022B4 80007854 38600001 */  li      r3, 1
/* 0022B8 80007858 4E800020 */  blr     
lbl_8000785C:
/* 0022BC 8000785C 85040004 */  lwzu    r8, 4(r4)
/* 0022C0 80007860 38E70001 */  addi    r7, r7, 1
/* 0022C4 80007864 28080000 */  cmplwi  r8, 0
/* 0022C8 80007868 41820014 */  beq     lbl_8000787C
/* 0022CC 8000786C 80080000 */  lwz     r0, 0(r8)
/* 0022D0 80007870 5400023E */  clrlwi  r0, r0, 8
/* 0022D4 80007874 7C003000 */  cmpw    r0, r6
/* 0022D8 80007878 40800014 */  bge     lbl_8000788C
lbl_8000787C:
/* 0022DC 8000787C 54E0103A */  slwi    r0, r7, 2
/* 0022E0 80007880 7C65012E */  stwx    r3, r5, r0
/* 0022E4 80007884 38600001 */  li      r3, 1
/* 0022E8 80007888 4E800020 */  blr     
lbl_8000788C:
/* 0022EC 8000788C 85040004 */  lwzu    r8, 4(r4)
/* 0022F0 80007890 38E70001 */  addi    r7, r7, 1
/* 0022F4 80007894 28080000 */  cmplwi  r8, 0
/* 0022F8 80007898 41820014 */  beq     lbl_800078AC
/* 0022FC 8000789C 80080000 */  lwz     r0, 0(r8)
/* 002300 800078A0 5400023E */  clrlwi  r0, r0, 8
/* 002304 800078A4 7C003000 */  cmpw    r0, r6
/* 002308 800078A8 40800014 */  bge     lbl_800078BC
lbl_800078AC:
/* 00230C 800078AC 54E0103A */  slwi    r0, r7, 2
/* 002310 800078B0 7C65012E */  stwx    r3, r5, r0
/* 002314 800078B4 38600001 */  li      r3, 1
/* 002318 800078B8 4E800020 */  blr     
lbl_800078BC:
/* 00231C 800078BC 85040004 */  lwzu    r8, 4(r4)
/* 002320 800078C0 38E70001 */  addi    r7, r7, 1
/* 002324 800078C4 28080000 */  cmplwi  r8, 0
/* 002328 800078C8 41820014 */  beq     lbl_800078DC
/* 00232C 800078CC 80080000 */  lwz     r0, 0(r8)
/* 002330 800078D0 5400023E */  clrlwi  r0, r0, 8
/* 002334 800078D4 7C003000 */  cmpw    r0, r6
/* 002338 800078D8 40800014 */  bge     lbl_800078EC
lbl_800078DC:
/* 00233C 800078DC 54E0103A */  slwi    r0, r7, 2
/* 002340 800078E0 7C65012E */  stwx    r3, r5, r0
/* 002344 800078E4 38600001 */  li      r3, 1
/* 002348 800078E8 4E800020 */  blr     
lbl_800078EC:
/* 00234C 800078EC 85040004 */  lwzu    r8, 4(r4)
/* 002350 800078F0 38E70001 */  addi    r7, r7, 1
/* 002354 800078F4 28080000 */  cmplwi  r8, 0
/* 002358 800078F8 41820014 */  beq     lbl_8000790C
/* 00235C 800078FC 80080000 */  lwz     r0, 0(r8)
/* 002360 80007900 5400023E */  clrlwi  r0, r0, 8
/* 002364 80007904 7C003000 */  cmpw    r0, r6
/* 002368 80007908 40800014 */  bge     lbl_8000791C
lbl_8000790C:
/* 00236C 8000790C 54E0103A */  slwi    r0, r7, 2
/* 002370 80007910 7C65012E */  stwx    r3, r5, r0
/* 002374 80007914 38600001 */  li      r3, 1
/* 002378 80007918 4E800020 */  blr     
lbl_8000791C:
/* 00237C 8000791C 85040004 */  lwzu    r8, 4(r4)
/* 002380 80007920 38E70001 */  addi    r7, r7, 1
/* 002384 80007924 28080000 */  cmplwi  r8, 0
/* 002388 80007928 41820014 */  beq     lbl_8000793C
/* 00238C 8000792C 80080000 */  lwz     r0, 0(r8)
/* 002390 80007930 5400023E */  clrlwi  r0, r0, 8
/* 002394 80007934 7C003000 */  cmpw    r0, r6
/* 002398 80007938 40800014 */  bge     lbl_8000794C
lbl_8000793C:
/* 00239C 8000793C 54E0103A */  slwi    r0, r7, 2
/* 0023A0 80007940 7C65012E */  stwx    r3, r5, r0
/* 0023A4 80007944 38600001 */  li      r3, 1
/* 0023A8 80007948 4E800020 */  blr     
lbl_8000794C:
/* 0023AC 8000794C 85040004 */  lwzu    r8, 4(r4)
/* 0023B0 80007950 38E70001 */  addi    r7, r7, 1
/* 0023B4 80007954 28080000 */  cmplwi  r8, 0
/* 0023B8 80007958 41820014 */  beq     lbl_8000796C
/* 0023BC 8000795C 80080000 */  lwz     r0, 0(r8)
/* 0023C0 80007960 5400023E */  clrlwi  r0, r0, 8
/* 0023C4 80007964 7C003000 */  cmpw    r0, r6
/* 0023C8 80007968 40800014 */  bge     lbl_8000797C
lbl_8000796C:
/* 0023CC 8000796C 54E0103A */  slwi    r0, r7, 2
/* 0023D0 80007970 7C65012E */  stwx    r3, r5, r0
/* 0023D4 80007974 38600001 */  li      r3, 1
/* 0023D8 80007978 4E800020 */  blr     
lbl_8000797C:
/* 0023DC 8000797C 85040004 */  lwzu    r8, 4(r4)
/* 0023E0 80007980 38E70001 */  addi    r7, r7, 1
/* 0023E4 80007984 28080000 */  cmplwi  r8, 0
/* 0023E8 80007988 41820014 */  beq     lbl_8000799C
/* 0023EC 8000798C 80080000 */  lwz     r0, 0(r8)
/* 0023F0 80007990 5400023E */  clrlwi  r0, r0, 8
/* 0023F4 80007994 7C003000 */  cmpw    r0, r6
/* 0023F8 80007998 40800014 */  bge     lbl_800079AC
lbl_8000799C:
/* 0023FC 8000799C 54E0103A */  slwi    r0, r7, 2
/* 002400 800079A0 7C65012E */  stwx    r3, r5, r0
/* 002404 800079A4 38600001 */  li      r3, 1
/* 002408 800079A8 4E800020 */  blr     
lbl_800079AC:
/* 00240C 800079AC 38840004 */  addi    r4, r4, 4
/* 002410 800079B0 38E70001 */  addi    r7, r7, 1
/* 002414 800079B4 4200FE7C */  bdnz    lbl_80007830
/* 002418 800079B8 38600000 */  li      r3, 0
/* 00241C 800079BC 4E800020 */  blr     

xlHeapBlockCacheGet:
/* 002420 800079C0 2C030008 */  cmpwi   r3, 8
/* 002424 800079C4 4080000C */  bge     lbl_800079D0
/* 002428 800079C8 39200000 */  li      r9, 0
/* 00242C 800079CC 48000098 */  b       lbl_80007A64
lbl_800079D0:
/* 002430 800079D0 2C030010 */  cmpwi   r3, 0x10
/* 002434 800079D4 4080000C */  bge     lbl_800079E0
/* 002438 800079D8 39200001 */  li      r9, 1
/* 00243C 800079DC 48000088 */  b       lbl_80007A64
lbl_800079E0:
/* 002440 800079E0 2C030020 */  cmpwi   r3, 0x20
/* 002444 800079E4 4080000C */  bge     lbl_800079F0
/* 002448 800079E8 39200002 */  li      r9, 2
/* 00244C 800079EC 48000078 */  b       lbl_80007A64
lbl_800079F0:
/* 002450 800079F0 2C030040 */  cmpwi   r3, 0x40
/* 002454 800079F4 4080000C */  bge     lbl_80007A00
/* 002458 800079F8 39200003 */  li      r9, 3
/* 00245C 800079FC 48000068 */  b       lbl_80007A64
lbl_80007A00:
/* 002460 80007A00 2C030080 */  cmpwi   r3, 0x80
/* 002464 80007A04 4080000C */  bge     lbl_80007A10
/* 002468 80007A08 39200004 */  li      r9, 4
/* 00246C 80007A0C 48000058 */  b       lbl_80007A64
lbl_80007A10:
/* 002470 80007A10 2C030100 */  cmpwi   r3, 0x100
/* 002474 80007A14 4080000C */  bge     lbl_80007A20
/* 002478 80007A18 39200005 */  li      r9, 5
/* 00247C 80007A1C 48000048 */  b       lbl_80007A64
lbl_80007A20:
/* 002480 80007A20 2C030200 */  cmpwi   r3, 0x200
/* 002484 80007A24 4080000C */  bge     lbl_80007A30
/* 002488 80007A28 39200006 */  li      r9, 6
/* 00248C 80007A2C 48000038 */  b       lbl_80007A64
lbl_80007A30:
/* 002490 80007A30 2C030400 */  cmpwi   r3, 0x400
/* 002494 80007A34 4080000C */  bge     lbl_80007A40
/* 002498 80007A38 39200007 */  li      r9, 7
/* 00249C 80007A3C 48000028 */  b       lbl_80007A64
lbl_80007A40:
/* 0024A0 80007A40 2C031000 */  cmpwi   r3, 0x1000
/* 0024A4 80007A44 4080000C */  bge     lbl_80007A50
/* 0024A8 80007A48 39200008 */  li      r9, 8
/* 0024AC 80007A4C 48000018 */  b       lbl_80007A64
lbl_80007A50:
/* 0024B0 80007A50 2C032000 */  cmpwi   r3, 0x2000
/* 0024B4 80007A54 4080000C */  bge     lbl_80007A60
/* 0024B8 80007A58 39200009 */  li      r9, 9
/* 0024BC 80007A5C 48000008 */  b       lbl_80007A64
lbl_80007A60:
/* 0024C0 80007A60 3920000A */  li      r9, 0xa
lbl_80007A64:
/* 0024C4 80007A64 3CC0800F */  lis     r6, gapHeapBlockCache@ha
/* 0024C8 80007A68 55273830 */  slwi    r7, r9, 7
/* 0024CC 80007A6C 38063FB0 */  addi    r0, r6, gapHeapBlockCache@l
/* 0024D0 80007A70 7CE03A14 */  add     r7, r0, r7
/* 0024D4 80007A74 48000134 */  b       lbl_80007BA8
lbl_80007A78:
/* 0024D8 80007A78 38000008 */  li      r0, 8
/* 0024DC 80007A7C 7C0903A6 */  mtctr   r0
/* 0024E0 80007A80 38C70000 */  addi    r6, r7, 0
/* 0024E4 80007A84 3940FFFF */  li      r10, -1
/* 0024E8 80007A88 3D600100 */  lis     r11, 0x100
/* 0024EC 80007A8C 39000000 */  li      r8, 0
lbl_80007A90:
/* 0024F0 80007A90 81860000 */  lwz     r12, 0(r6)
/* 0024F4 80007A94 280C0000 */  cmplwi  r12, 0
/* 0024F8 80007A98 41820024 */  beq     lbl_80007ABC
/* 0024FC 80007A9C 800C0000 */  lwz     r0, 0(r12)
/* 002500 80007AA0 5400023E */  clrlwi  r0, r0, 8
/* 002504 80007AA4 7C005800 */  cmpw    r0, r11
/* 002508 80007AA8 40800014 */  bge     lbl_80007ABC
/* 00250C 80007AAC 7C001800 */  cmpw    r0, r3
/* 002510 80007AB0 4180000C */  blt     lbl_80007ABC
/* 002514 80007AB4 39480000 */  addi    r10, r8, 0
/* 002518 80007AB8 7C0B0378 */  mr      r11, r0
lbl_80007ABC:
/* 00251C 80007ABC 85860004 */  lwzu    r12, 4(r6)
/* 002520 80007AC0 39080001 */  addi    r8, r8, 1
/* 002524 80007AC4 280C0000 */  cmplwi  r12, 0
/* 002528 80007AC8 41820024 */  beq     lbl_80007AEC
/* 00252C 80007ACC 800C0000 */  lwz     r0, 0(r12)
/* 002530 80007AD0 5400023E */  clrlwi  r0, r0, 8
/* 002534 80007AD4 7C005800 */  cmpw    r0, r11
/* 002538 80007AD8 40800014 */  bge     lbl_80007AEC
/* 00253C 80007ADC 7C001800 */  cmpw    r0, r3
/* 002540 80007AE0 4180000C */  blt     lbl_80007AEC
/* 002544 80007AE4 39480000 */  addi    r10, r8, 0
/* 002548 80007AE8 7C0B0378 */  mr      r11, r0
lbl_80007AEC:
/* 00254C 80007AEC 85860004 */  lwzu    r12, 4(r6)
/* 002550 80007AF0 39080001 */  addi    r8, r8, 1
/* 002554 80007AF4 280C0000 */  cmplwi  r12, 0
/* 002558 80007AF8 41820024 */  beq     lbl_80007B1C
/* 00255C 80007AFC 800C0000 */  lwz     r0, 0(r12)
/* 002560 80007B00 5400023E */  clrlwi  r0, r0, 8
/* 002564 80007B04 7C005800 */  cmpw    r0, r11
/* 002568 80007B08 40800014 */  bge     lbl_80007B1C
/* 00256C 80007B0C 7C001800 */  cmpw    r0, r3
/* 002570 80007B10 4180000C */  blt     lbl_80007B1C
/* 002574 80007B14 39480000 */  addi    r10, r8, 0
/* 002578 80007B18 7C0B0378 */  mr      r11, r0
lbl_80007B1C:
/* 00257C 80007B1C 85860004 */  lwzu    r12, 4(r6)
/* 002580 80007B20 39080001 */  addi    r8, r8, 1
/* 002584 80007B24 280C0000 */  cmplwi  r12, 0
/* 002588 80007B28 41820024 */  beq     lbl_80007B4C
/* 00258C 80007B2C 800C0000 */  lwz     r0, 0(r12)
/* 002590 80007B30 5400023E */  clrlwi  r0, r0, 8
/* 002594 80007B34 7C005800 */  cmpw    r0, r11
/* 002598 80007B38 40800014 */  bge     lbl_80007B4C
/* 00259C 80007B3C 7C001800 */  cmpw    r0, r3
/* 0025A0 80007B40 4180000C */  blt     lbl_80007B4C
/* 0025A4 80007B44 39480000 */  addi    r10, r8, 0
/* 0025A8 80007B48 7C0B0378 */  mr      r11, r0
lbl_80007B4C:
/* 0025AC 80007B4C 38C60004 */  addi    r6, r6, 4
/* 0025B0 80007B50 39080001 */  addi    r8, r8, 1
/* 0025B4 80007B54 4200FF3C */  bdnz    lbl_80007A90
/* 0025B8 80007B58 2C0A0000 */  cmpwi   r10, 0
/* 0025BC 80007B5C 41800044 */  blt     lbl_80007BA0
/* 0025C0 80007B60 3C60800F */  lis     r3, gapHeapBlockCache@ha
/* 0025C4 80007B64 91650000 */  stw     r11, 0(r5)
/* 0025C8 80007B68 55253830 */  slwi    r5, r9, 7
/* 0025CC 80007B6C 38033FB0 */  addi    r0, r3, gapHeapBlockCache@l
/* 0025D0 80007B70 7C602A14 */  add     r3, r0, r5
/* 0025D4 80007B74 5540103A */  slwi    r0, r10, 2
/* 0025D8 80007B78 7CC30214 */  add     r6, r3, r0
/* 0025DC 80007B7C 80A60000 */  lwz     r5, 0(r6)
/* 0025E0 80007B80 38000000 */  li      r0, 0
/* 0025E4 80007B84 38600001 */  li      r3, 1
/* 0025E8 80007B88 90A40000 */  stw     r5, 0(r4)
/* 0025EC 80007B8C 90060000 */  stw     r0, 0(r6)
/* 0025F0 80007B90 808D88DC */  lwz     r4, gnHeapTakeCacheCount@sda21(r13)
/* 0025F4 80007B94 38040001 */  addi    r0, r4, 1
/* 0025F8 80007B98 900D88DC */  stw     r0, gnHeapTakeCacheCount@sda21(r13)
/* 0025FC 80007B9C 4E800020 */  blr     
lbl_80007BA0:
/* 002600 80007BA0 38E70080 */  addi    r7, r7, 0x80
/* 002604 80007BA4 39290001 */  addi    r9, r9, 1
lbl_80007BA8:
/* 002608 80007BA8 2C09000B */  cmpwi   r9, 0xb
/* 00260C 80007BAC 4180FECC */  blt     lbl_80007A78
/* 002610 80007BB0 38000000 */  li      r0, 0
/* 002614 80007BB4 90040000 */  stw     r0, 0(r4)
/* 002618 80007BB8 38600000 */  li      r3, 0
/* 00261C 80007BBC 4E800020 */  blr     

.section .bss, "wa"

.balign 4

/* 000F1030 800F3FB0 0580 */
gapHeapBlockCache:
    .skip 1408

.section .sbss, "wa"

.balign 8

/* 000F1828 801355A8 0004 */
gpHeap:
    .skip 4

/* 000F182C 801355AC 0004 */
gpHeapBlockFirst:
    .skip 4

/* 000F1830 801355B0 0004 */
gpHeapBlockLast:
    .skip 4

/* 000F1834 801355B4 0004 */
gnHeapTakeCount:
    .skip 4

/* 000F1838 801355B8 0004 */
gnHeapFreeCount:
    .skip 4

/* 000F183C 801355BC 0004 */
gnHeapTakeCacheCount:
    .skip 4

/* 000F1840 801355C0 0004 */
glabel gnSizeHeap
    .skip 4
