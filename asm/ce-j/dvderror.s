# dvderror.c
.include "macros.inc"

.section .text, "ax"

.balign 4

ErrorCode2Num:
/* 0B02FC 800B589C 38000002 */  li      r0, 2
/* 0B0300 800B58A0 3C80800F */  lis     r4, ErrorTable@ha
/* 0B0304 800B58A4 7C0903A6 */  mtctr   r0
/* 0B0308 800B58A8 388425E0 */  addi    r4, r4, ErrorTable@l
/* 0B030C 800B58AC 38A00000 */  li      r5, 0
lbl_800B58B0:
/* 0B0310 800B58B0 80040000 */  lwz     r0, 0(r4)
/* 0B0314 800B58B4 7C030040 */  cmplw   r3, r0
/* 0B0318 800B58B8 4082000C */  bne     lbl_800B58C4
/* 0B031C 800B58BC 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B0320 800B58C0 4E800020 */  blr     
lbl_800B58C4:
/* 0B0324 800B58C4 84040004 */  lwzu    r0, 4(r4)
/* 0B0328 800B58C8 38A50001 */  addi    r5, r5, 1
/* 0B032C 800B58CC 7C030040 */  cmplw   r3, r0
/* 0B0330 800B58D0 4082000C */  bne     lbl_800B58DC
/* 0B0334 800B58D4 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B0338 800B58D8 4E800020 */  blr     
lbl_800B58DC:
/* 0B033C 800B58DC 84040004 */  lwzu    r0, 4(r4)
/* 0B0340 800B58E0 38A50001 */  addi    r5, r5, 1
/* 0B0344 800B58E4 7C030040 */  cmplw   r3, r0
/* 0B0348 800B58E8 4082000C */  bne     lbl_800B58F4
/* 0B034C 800B58EC 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B0350 800B58F0 4E800020 */  blr     
lbl_800B58F4:
/* 0B0354 800B58F4 84040004 */  lwzu    r0, 4(r4)
/* 0B0358 800B58F8 38A50001 */  addi    r5, r5, 1
/* 0B035C 800B58FC 7C030040 */  cmplw   r3, r0
/* 0B0360 800B5900 4082000C */  bne     lbl_800B590C
/* 0B0364 800B5904 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B0368 800B5908 4E800020 */  blr     
lbl_800B590C:
/* 0B036C 800B590C 84040004 */  lwzu    r0, 4(r4)
/* 0B0370 800B5910 38A50001 */  addi    r5, r5, 1
/* 0B0374 800B5914 7C030040 */  cmplw   r3, r0
/* 0B0378 800B5918 4082000C */  bne     lbl_800B5924
/* 0B037C 800B591C 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B0380 800B5920 4E800020 */  blr     
lbl_800B5924:
/* 0B0384 800B5924 84040004 */  lwzu    r0, 4(r4)
/* 0B0388 800B5928 38A50001 */  addi    r5, r5, 1
/* 0B038C 800B592C 7C030040 */  cmplw   r3, r0
/* 0B0390 800B5930 4082000C */  bne     lbl_800B593C
/* 0B0394 800B5934 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B0398 800B5938 4E800020 */  blr     
lbl_800B593C:
/* 0B039C 800B593C 84040004 */  lwzu    r0, 4(r4)
/* 0B03A0 800B5940 38A50001 */  addi    r5, r5, 1
/* 0B03A4 800B5944 7C030040 */  cmplw   r3, r0
/* 0B03A8 800B5948 4082000C */  bne     lbl_800B5954
/* 0B03AC 800B594C 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B03B0 800B5950 4E800020 */  blr     
lbl_800B5954:
/* 0B03B4 800B5954 84040004 */  lwzu    r0, 4(r4)
/* 0B03B8 800B5958 38A50001 */  addi    r5, r5, 1
/* 0B03BC 800B595C 7C030040 */  cmplw   r3, r0
/* 0B03C0 800B5960 4082000C */  bne     lbl_800B596C
/* 0B03C4 800B5964 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B03C8 800B5968 4E800020 */  blr     
lbl_800B596C:
/* 0B03CC 800B596C 84040004 */  lwzu    r0, 4(r4)
/* 0B03D0 800B5970 38A50001 */  addi    r5, r5, 1
/* 0B03D4 800B5974 7C030040 */  cmplw   r3, r0
/* 0B03D8 800B5978 4082000C */  bne     lbl_800B5984
/* 0B03DC 800B597C 54A3063E */  clrlwi  r3, r5, 0x18
/* 0B03E0 800B5980 4E800020 */  blr     
lbl_800B5984:
/* 0B03E4 800B5984 38840004 */  addi    r4, r4, 4
/* 0B03E8 800B5988 38A50001 */  addi    r5, r5, 1
/* 0B03EC 800B598C 4200FF24 */  bdnz    lbl_800B58B0
/* 0B03F0 800B5990 3C800010 */  lis     r4, 0x10
/* 0B03F4 800B5994 7C032040 */  cmplw   r3, r4
/* 0B03F8 800B5998 41800018 */  blt     lbl_800B59B0
/* 0B03FC 800B599C 38040008 */  addi    r0, r4, 8
/* 0B0400 800B59A0 7C030040 */  cmplw   r3, r0
/* 0B0404 800B59A4 4181000C */  bgt     lbl_800B59B0
/* 0B0408 800B59A8 38600011 */  li      r3, 0x11
/* 0B040C 800B59AC 4E800020 */  blr     
lbl_800B59B0:
/* 0B0410 800B59B0 3860001D */  li      r3, 0x1d
/* 0B0414 800B59B4 4E800020 */  blr     

glabel __DVDStoreErrorCode
/* 0B0418 800B59B8 7C0802A6 */  mflr    r0
/* 0B041C 800B59BC 90010004 */  stw     r0, 4(r1)
/* 0B0420 800B59C0 3C03FEDD */  addis   r0, r3, 0xfedd
/* 0B0424 800B59C4 28004567 */  cmplwi  r0, 0x4567
/* 0B0428 800B59C8 9421FFE8 */  stwu    r1, -0x18(r1)
/* 0B042C 800B59CC 93E10014 */  stw     r31, 0x14(r1)
/* 0B0430 800B59D0 4082000C */  bne     lbl_800B59DC
/* 0B0434 800B59D4 3BE000FF */  li      r31, 0xff
/* 0B0438 800B59D8 48000038 */  b       lbl_800B5A10
lbl_800B59DC:
/* 0B043C 800B59DC 28004568 */  cmplwi  r0, 0x4568
/* 0B0440 800B59E0 4082000C */  bne     lbl_800B59EC
/* 0B0444 800B59E4 3BE000FE */  li      r31, 0xfe
/* 0B0448 800B59E8 48000028 */  b       lbl_800B5A10
lbl_800B59EC:
/* 0B044C 800B59EC 547F463E */  srwi    r31, r3, 0x18
/* 0B0450 800B59F0 5463023E */  clrlwi  r3, r3, 8
/* 0B0454 800B59F4 4BFFFEA9 */  bl      ErrorCode2Num
/* 0B0458 800B59F8 281F0006 */  cmplwi  r31, 6
/* 0B045C 800B59FC 41800008 */  blt     lbl_800B5A04
/* 0B0460 800B5A00 3BE00006 */  li      r31, 6
lbl_800B5A04:
/* 0B0464 800B5A04 1C1F001E */  mulli   r0, r31, 0x1e
/* 0B0468 800B5A08 5463063E */  clrlwi  r3, r3, 0x18
/* 0B046C 800B5A0C 7FE30214 */  add     r31, r3, r0
lbl_800B5A10:
/* 0B0470 800B5A10 4BFEAED9 */  bl      __OSLockSramEx
/* 0B0474 800B5A14 9BE30024 */  stb     r31, 0x24(r3)
/* 0B0478 800B5A18 38600001 */  li      r3, 1
/* 0B047C 800B5A1C 4BFEB289 */  bl      __OSUnlockSramEx
/* 0B0480 800B5A20 8001001C */  lwz     r0, 0x1c(r1)
/* 0B0484 800B5A24 83E10014 */  lwz     r31, 0x14(r1)
/* 0B0488 800B5A28 38210018 */  addi    r1, r1, 0x18
/* 0B048C 800B5A2C 7C0803A6 */  mtlr    r0
/* 0B0490 800B5A30 4E800020 */  blr     

.section .data, "wa"

.balign 8

/* 000EF660 800F25E0 0048 */
ErrorTable:
    .long 0x00000000, 0x00023A00, 0x00062800, 0x00030200, 0x00031100, 0x00052000, 0x00052001, 0x00052100
    .long 0x00052400, 0x00052401, 0x00052402, 0x000B5A01, 0x00056300, 0x00020401, 0x00020400, 0x00040800
    .long 0x00100007, 0x00000000
