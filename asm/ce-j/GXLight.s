# GXLight.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel GXSetChanAmbColor
/* 0A6E5C 800AC3FC 2C030003 */  cmpwi   r3, 3
/* 0A6E60 800AC400 41820084 */  beq     lbl_800AC484
/* 0A6E64 800AC404 4080001C */  bge     lbl_800AC420
/* 0A6E68 800AC408 2C030001 */  cmpwi   r3, 1
/* 0A6E6C 800AC40C 41820040 */  beq     lbl_800AC44C
/* 0A6E70 800AC410 40800058 */  bge     lbl_800AC468
/* 0A6E74 800AC414 2C030000 */  cmpwi   r3, 0
/* 0A6E78 800AC418 40800018 */  bge     lbl_800AC430
/* 0A6E7C 800AC41C 4E800020 */  blr     
lbl_800AC420:
/* 0A6E80 800AC420 2C030005 */  cmpwi   r3, 5
/* 0A6E84 800AC424 41820084 */  beq     lbl_800AC4A8
/* 0A6E88 800AC428 4C800020 */  bgelr   
/* 0A6E8C 800AC42C 48000070 */  b       lbl_800AC49C
lbl_800AC430:
/* 0A6E90 800AC430 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6E94 800AC434 38A00000 */  li      r5, 0
/* 0A6E98 800AC438 80040000 */  lwz     r0, 0(r4)
/* 0A6E9C 800AC43C 806300A8 */  lwz     r3, 0xa8(r3)
/* 0A6EA0 800AC440 5407002E */  rlwinm  r7, r0, 0, 0, 0x17
/* 0A6EA4 800AC444 5067063E */  rlwimi  r7, r3, 0, 0x18, 0x1f
/* 0A6EA8 800AC448 48000070 */  b       lbl_800AC4B8
lbl_800AC44C:
/* 0A6EAC 800AC44C 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6EB0 800AC450 38A00001 */  li      r5, 1
/* 0A6EB4 800AC454 80040000 */  lwz     r0, 0(r4)
/* 0A6EB8 800AC458 806300AC */  lwz     r3, 0xac(r3)
/* 0A6EBC 800AC45C 5407002E */  rlwinm  r7, r0, 0, 0, 0x17
/* 0A6EC0 800AC460 5067063E */  rlwimi  r7, r3, 0, 0x18, 0x1f
/* 0A6EC4 800AC464 48000054 */  b       lbl_800AC4B8
lbl_800AC468:
/* 0A6EC8 800AC468 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6ECC 800AC46C 38A00000 */  li      r5, 0
/* 0A6ED0 800AC470 88040003 */  lbz     r0, 3(r4)
/* 0A6ED4 800AC474 806300A8 */  lwz     r3, 0xa8(r3)
/* 0A6ED8 800AC478 5003063E */  rlwimi  r3, r0, 0, 0x18, 0x1f
/* 0A6EDC 800AC47C 38E30000 */  addi    r7, r3, 0
/* 0A6EE0 800AC480 48000038 */  b       lbl_800AC4B8
lbl_800AC484:
/* 0A6EE4 800AC484 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6EE8 800AC488 38A00001 */  li      r5, 1
/* 0A6EEC 800AC48C 88040003 */  lbz     r0, 3(r4)
/* 0A6EF0 800AC490 80E300AC */  lwz     r7, 0xac(r3)
/* 0A6EF4 800AC494 5007063E */  rlwimi  r7, r0, 0, 0x18, 0x1f
/* 0A6EF8 800AC498 48000020 */  b       lbl_800AC4B8
lbl_800AC49C:
/* 0A6EFC 800AC49C 80E40000 */  lwz     r7, 0(r4)
/* 0A6F00 800AC4A0 38A00000 */  li      r5, 0
/* 0A6F04 800AC4A4 48000014 */  b       lbl_800AC4B8
lbl_800AC4A8:
/* 0A6F08 800AC4A8 80E40000 */  lwz     r7, 0(r4)
/* 0A6F0C 800AC4AC 38A00001 */  li      r5, 1
/* 0A6F10 800AC4B0 48000008 */  b       lbl_800AC4B8
/* 0A6F14 800AC4B4 4E800020 */  blr     
lbl_800AC4B8:
/* 0A6F18 800AC4B8 38000010 */  li      r0, 0x10
/* 0A6F1C 800AC4BC 80828400 */  lwz     r4, __GXData@sda21(r2)
/* 0A6F20 800AC4C0 3CC0CC01 */  lis     r6, 0xcc01
/* 0A6F24 800AC4C4 98068000 */  stb     r0, -0x8000(r6)
/* 0A6F28 800AC4C8 3865100A */  addi    r3, r5, 0x100a
/* 0A6F2C 800AC4CC 54A0103A */  slwi    r0, r5, 2
/* 0A6F30 800AC4D0 90668000 */  stw     r3, -0x8000(r6)
/* 0A6F34 800AC4D4 38A00001 */  li      r5, 1
/* 0A6F38 800AC4D8 7C640214 */  add     r3, r4, r0
/* 0A6F3C 800AC4DC 90E68000 */  stw     r7, -0x8000(r6)
/* 0A6F40 800AC4E0 B0A40002 */  sth     r5, 2(r4)
/* 0A6F44 800AC4E4 90E300A8 */  stw     r7, 0xa8(r3)
/* 0A6F48 800AC4E8 4E800020 */  blr     

glabel GXSetChanMatColor
/* 0A6F4C 800AC4EC 2C030003 */  cmpwi   r3, 3
/* 0A6F50 800AC4F0 41820084 */  beq     lbl_800AC574
/* 0A6F54 800AC4F4 4080001C */  bge     lbl_800AC510
/* 0A6F58 800AC4F8 2C030001 */  cmpwi   r3, 1
/* 0A6F5C 800AC4FC 41820040 */  beq     lbl_800AC53C
/* 0A6F60 800AC500 40800058 */  bge     lbl_800AC558
/* 0A6F64 800AC504 2C030000 */  cmpwi   r3, 0
/* 0A6F68 800AC508 40800018 */  bge     lbl_800AC520
/* 0A6F6C 800AC50C 4E800020 */  blr     
lbl_800AC510:
/* 0A6F70 800AC510 2C030005 */  cmpwi   r3, 5
/* 0A6F74 800AC514 41820084 */  beq     lbl_800AC598
/* 0A6F78 800AC518 4C800020 */  bgelr   
/* 0A6F7C 800AC51C 48000070 */  b       lbl_800AC58C
lbl_800AC520:
/* 0A6F80 800AC520 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6F84 800AC524 38A00000 */  li      r5, 0
/* 0A6F88 800AC528 80040000 */  lwz     r0, 0(r4)
/* 0A6F8C 800AC52C 806300B0 */  lwz     r3, 0xb0(r3)
/* 0A6F90 800AC530 5407002E */  rlwinm  r7, r0, 0, 0, 0x17
/* 0A6F94 800AC534 5067063E */  rlwimi  r7, r3, 0, 0x18, 0x1f
/* 0A6F98 800AC538 48000070 */  b       lbl_800AC5A8
lbl_800AC53C:
/* 0A6F9C 800AC53C 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6FA0 800AC540 38A00001 */  li      r5, 1
/* 0A6FA4 800AC544 80040000 */  lwz     r0, 0(r4)
/* 0A6FA8 800AC548 806300B4 */  lwz     r3, 0xb4(r3)
/* 0A6FAC 800AC54C 5407002E */  rlwinm  r7, r0, 0, 0, 0x17
/* 0A6FB0 800AC550 5067063E */  rlwimi  r7, r3, 0, 0x18, 0x1f
/* 0A6FB4 800AC554 48000054 */  b       lbl_800AC5A8
lbl_800AC558:
/* 0A6FB8 800AC558 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6FBC 800AC55C 38A00000 */  li      r5, 0
/* 0A6FC0 800AC560 88040003 */  lbz     r0, 3(r4)
/* 0A6FC4 800AC564 806300B0 */  lwz     r3, 0xb0(r3)
/* 0A6FC8 800AC568 5003063E */  rlwimi  r3, r0, 0, 0x18, 0x1f
/* 0A6FCC 800AC56C 38E30000 */  addi    r7, r3, 0
/* 0A6FD0 800AC570 48000038 */  b       lbl_800AC5A8
lbl_800AC574:
/* 0A6FD4 800AC574 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A6FD8 800AC578 38A00001 */  li      r5, 1
/* 0A6FDC 800AC57C 88040003 */  lbz     r0, 3(r4)
/* 0A6FE0 800AC580 80E300B4 */  lwz     r7, 0xb4(r3)
/* 0A6FE4 800AC584 5007063E */  rlwimi  r7, r0, 0, 0x18, 0x1f
/* 0A6FE8 800AC588 48000020 */  b       lbl_800AC5A8
lbl_800AC58C:
/* 0A6FEC 800AC58C 80E40000 */  lwz     r7, 0(r4)
/* 0A6FF0 800AC590 38A00000 */  li      r5, 0
/* 0A6FF4 800AC594 48000014 */  b       lbl_800AC5A8
lbl_800AC598:
/* 0A6FF8 800AC598 80E40000 */  lwz     r7, 0(r4)
/* 0A6FFC 800AC59C 38A00001 */  li      r5, 1
/* 0A7000 800AC5A0 48000008 */  b       lbl_800AC5A8
/* 0A7004 800AC5A4 4E800020 */  blr     
lbl_800AC5A8:
/* 0A7008 800AC5A8 38000010 */  li      r0, 0x10
/* 0A700C 800AC5AC 80828400 */  lwz     r4, __GXData@sda21(r2)
/* 0A7010 800AC5B0 3CC0CC01 */  lis     r6, 0xcc01
/* 0A7014 800AC5B4 98068000 */  stb     r0, -0x8000(r6)
/* 0A7018 800AC5B8 3865100C */  addi    r3, r5, 0x100c
/* 0A701C 800AC5BC 54A0103A */  slwi    r0, r5, 2
/* 0A7020 800AC5C0 90668000 */  stw     r3, -0x8000(r6)
/* 0A7024 800AC5C4 38A00001 */  li      r5, 1
/* 0A7028 800AC5C8 7C640214 */  add     r3, r4, r0
/* 0A702C 800AC5CC 90E68000 */  stw     r7, -0x8000(r6)
/* 0A7030 800AC5D0 B0A40002 */  sth     r5, 2(r4)
/* 0A7034 800AC5D4 90E300B0 */  stw     r7, 0xb0(r3)
/* 0A7038 800AC5D8 4E800020 */  blr     

glabel GXSetNumChans
/* 0A703C 800AC5DC 80C28400 */  lwz     r6, __GXData@sda21(r2)
/* 0A7040 800AC5E0 5465063E */  clrlwi  r5, r3, 0x18
/* 0A7044 800AC5E4 38800010 */  li      r4, 0x10
/* 0A7048 800AC5E8 80060204 */  lwz     r0, 0x204(r6)
/* 0A704C 800AC5EC 50602676 */  rlwimi  r0, r3, 4, 0x19, 0x1b
/* 0A7050 800AC5F0 3C60CC01 */  lis     r3, 0xcc01
/* 0A7054 800AC5F4 90060204 */  stw     r0, 0x204(r6)
/* 0A7058 800AC5F8 38001009 */  li      r0, 0x1009
/* 0A705C 800AC5FC 98838000 */  stb     r4, -0x8000(r3)
/* 0A7060 800AC600 90038000 */  stw     r0, -0x8000(r3)
/* 0A7064 800AC604 90A38000 */  stw     r5, -0x8000(r3)
/* 0A7068 800AC608 800605AC */  lwz     r0, 0x5ac(r6)
/* 0A706C 800AC60C 60000004 */  ori     r0, r0, 4
/* 0A7070 800AC610 900605AC */  stw     r0, 0x5ac(r6)
/* 0A7074 800AC614 4E800020 */  blr     

glabel GXSetChanCtrl
/* 0A7078 800AC618 5480063E */  clrlwi  r0, r4, 0x18
/* 0A707C 800AC61C 38800000 */  li      r4, 0
/* 0A7080 800AC620 50040FBC */  rlwimi  r4, r0, 1, 0x1e, 0x1e
/* 0A7084 800AC624 39440000 */  addi    r10, r4, 0
/* 0A7088 800AC628 50CA07FE */  rlwimi  r10, r6, 0, 0x1f, 0x1f
/* 0A708C 800AC62C 2C090000 */  cmpwi   r9, 0
/* 0A7090 800AC630 50AA3672 */  rlwimi  r10, r5, 6, 0x19, 0x19
/* 0A7094 800AC634 546607BE */  clrlwi  r6, r3, 0x1e
/* 0A7098 800AC638 40820008 */  bne     lbl_800AC640
/* 0A709C 800AC63C 39000000 */  li      r8, 0
lbl_800AC640:
/* 0A70A0 800AC640 20890002 */  subfic  r4, r9, 2
/* 0A70A4 800AC644 3004FFFF */  addic   r0, r4, -1
/* 0A70A8 800AC648 7CA02110 */  subfe   r5, r0, r4
/* 0A70AC 800AC64C 7C8900D0 */  neg     r4, r9
/* 0A70B0 800AC650 3004FFFF */  addic   r0, r4, -1
/* 0A70B4 800AC654 510A3DF0 */  rlwimi  r10, r8, 7, 0x17, 0x18
/* 0A70B8 800AC658 50AA4DAC */  rlwimi  r10, r5, 9, 0x16, 0x16
/* 0A70BC 800AC65C 7C002110 */  subfe   r0, r0, r4
/* 0A70C0 800AC660 500A556A */  rlwimi  r10, r0, 0xa, 0x15, 0x15
/* 0A70C4 800AC664 3806100E */  addi    r0, r6, 0x100e
/* 0A70C8 800AC668 554607B2 */  rlwinm  r6, r10, 0, 0x1e, 0x19
/* 0A70CC 800AC66C 50E616BA */  rlwimi  r6, r7, 2, 0x1a, 0x1d
/* 0A70D0 800AC670 54C60560 */  rlwinm  r6, r6, 0, 0x15, 0x10
/* 0A70D4 800AC674 38A00010 */  li      r5, 0x10
/* 0A70D8 800AC678 3C80CC01 */  lis     r4, 0xcc01
/* 0A70DC 800AC67C 98A48000 */  stb     r5, -0x8000(r4)
/* 0A70E0 800AC680 50E63C68 */  rlwimi  r6, r7, 7, 0x11, 0x14
/* 0A70E4 800AC684 2C030004 */  cmpwi   r3, 4
/* 0A70E8 800AC688 90048000 */  stw     r0, -0x8000(r4)
/* 0A70EC 800AC68C 90C48000 */  stw     r6, -0x8000(r4)
/* 0A70F0 800AC690 40820018 */  bne     lbl_800AC6A8
/* 0A70F4 800AC694 98A48000 */  stb     r5, -0x8000(r4)
/* 0A70F8 800AC698 38001010 */  li      r0, 0x1010
/* 0A70FC 800AC69C 90048000 */  stw     r0, -0x8000(r4)
/* 0A7100 800AC6A0 90C48000 */  stw     r6, -0x8000(r4)
/* 0A7104 800AC6A4 4800001C */  b       lbl_800AC6C0
lbl_800AC6A8:
/* 0A7108 800AC6A8 2C030005 */  cmpwi   r3, 5
/* 0A710C 800AC6AC 40820014 */  bne     lbl_800AC6C0
/* 0A7110 800AC6B0 98A48000 */  stb     r5, -0x8000(r4)
/* 0A7114 800AC6B4 38001011 */  li      r0, 0x1011
/* 0A7118 800AC6B8 90048000 */  stw     r0, -0x8000(r4)
/* 0A711C 800AC6BC 90C48000 */  stw     r6, -0x8000(r4)
lbl_800AC6C0:
/* 0A7120 800AC6C0 80628400 */  lwz     r3, __GXData@sda21(r2)
/* 0A7124 800AC6C4 38000001 */  li      r0, 1
/* 0A7128 800AC6C8 B0030002 */  sth     r0, 2(r3)
/* 0A712C 800AC6CC 4E800020 */  blr     
