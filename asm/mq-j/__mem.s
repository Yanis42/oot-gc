# __mem.c
.include "macros.inc"

.section .init, "ax"

.balign 4

# 0x80005320 - 0x80005464

glabel memset
/* 002320 80005320 7C0802A6 */  mflr      r0
/* 002324 80005324 90010004 */  stw       r0, 0x4(r1)
/* 002328 80005328 9421FFE0 */  stwu      r1, -0x20(r1)
/* 00232C 8000532C 93E1001C */  stw       r31, 0x1c(r1)
/* 002330 80005330 7C7F1B78 */  mr        r31, r3
/* 002334 80005334 4800001D */  bl        __fill_mem
/* 002338 80005338 80010024 */  lwz       r0, 0x24(r1)
/* 00233C 8000533C 7FE3FB78 */  mr        r3, r31
/* 002340 80005340 83E1001C */  lwz       r31, 0x1c(r1)
/* 002344 80005344 38210020 */  addi      r1, r1, 0x20
/* 002348 80005348 7C0803A6 */  mtlr      r0
/* 00234C 8000534C 4E800020 */  blr

glabel __fill_mem
/* 002350 80005350 28050020 */  cmplwi    r5, 0x20
/* 002354 80005354 5480063E */  clrlwi    r0, r4, 24
/* 002358 80005358 7C070378 */  mr        r7, r0
/* 00235C 8000535C 38C3FFFF */  subi      r6, r3, 0x1
/* 002360 80005360 41800098 */  blt       lbl_800053F8
/* 002364 80005364 7CC030F8 */  nor       r0, r6, r6
/* 002368 80005368 540007BF */  clrlwi.   r0, r0, 30
/* 00236C 8000536C 7C030378 */  mr        r3, r0
/* 002370 80005370 41820018 */  beq       lbl_80005388
/* 002374 80005374 7CA32850 */  subf      r5, r3, r5
/* 002378 80005378 54E0063E */  clrlwi    r0, r7, 24
lbl_8000537C:
/* 00237C 8000537C 3463FFFF */  subic.    r3, r3, 0x1
/* 002380 80005380 9C060001 */  stbu      r0, 0x1(r6)
/* 002384 80005384 4082FFF8 */  bne       lbl_8000537C
lbl_80005388:
/* 002388 80005388 28070000 */  cmplwi    r7, 0x0
/* 00238C 8000538C 4182001C */  beq       lbl_800053A8
/* 002390 80005390 54E3C00E */  slwi      r3, r7, 24
/* 002394 80005394 54E0801E */  slwi      r0, r7, 16
/* 002398 80005398 54E4402E */  slwi      r4, r7, 8
/* 00239C 8000539C 7C600378 */  or        r0, r3, r0
/* 0023A0 800053A0 7C800378 */  or        r0, r4, r0
/* 0023A4 800053A4 7CE70378 */  or        r7, r7, r0
lbl_800053A8:
/* 0023A8 800053A8 54A0D97F */  srwi.     r0, r5, 5
/* 0023AC 800053AC 3866FFFD */  subi      r3, r6, 0x3
/* 0023B0 800053B0 4182002C */  beq       lbl_800053DC
lbl_800053B4:
/* 0023B4 800053B4 90E30004 */  stw       r7, 0x4(r3)
/* 0023B8 800053B8 3400FFFF */  subic.    r0, r0, 0x1
/* 0023BC 800053BC 90E30008 */  stw       r7, 0x8(r3)
/* 0023C0 800053C0 90E3000C */  stw       r7, 0xc(r3)
/* 0023C4 800053C4 90E30010 */  stw       r7, 0x10(r3)
/* 0023C8 800053C8 90E30014 */  stw       r7, 0x14(r3)
/* 0023CC 800053CC 90E30018 */  stw       r7, 0x18(r3)
/* 0023D0 800053D0 90E3001C */  stw       r7, 0x1c(r3)
/* 0023D4 800053D4 94E30020 */  stwu      r7, 0x20(r3)
/* 0023D8 800053D8 4082FFDC */  bne       lbl_800053B4
lbl_800053DC:
/* 0023DC 800053DC 54A0F77F */  extrwi.   r0, r5, 3, 27
/* 0023E0 800053E0 41820010 */  beq       lbl_800053F0
lbl_800053E4:
/* 0023E4 800053E4 3400FFFF */  subic.    r0, r0, 0x1
/* 0023E8 800053E8 94E30004 */  stwu      r7, 0x4(r3)
/* 0023EC 800053EC 4082FFF8 */  bne       lbl_800053E4
lbl_800053F0:
/* 0023F0 800053F0 38C30003 */  addi      r6, r3, 0x3
/* 0023F4 800053F4 54A507BE */  clrlwi    r5, r5, 30
lbl_800053F8:
/* 0023F8 800053F8 28050000 */  cmplwi    r5, 0x0
/* 0023FC 800053FC 4D820020 */  beqlr
/* 002400 80005400 54E0063E */  clrlwi    r0, r7, 24
lbl_80005404:
/* 002404 80005404 34A5FFFF */  subic.    r5, r5, 0x1
/* 002408 80005408 9C060001 */  stbu      r0, 0x1(r6)
/* 00240C 8000540C 4082FFF8 */  bne       lbl_80005404
/* 002410 80005410 4E800020 */  blr

glabel memcpy
/* 002414 80005414 7C041840 */  cmplw     r4, r3
/* 002418 80005418 41800028 */  blt       lbl_80005440
/* 00241C 8000541C 3884FFFF */  subi      r4, r4, 0x1
/* 002420 80005420 38C3FFFF */  subi      r6, r3, 0x1
/* 002424 80005424 38A50001 */  addi      r5, r5, 0x1
/* 002428 80005428 4800000C */  b         lbl_80005434
lbl_8000542C:
/* 00242C 8000542C 8C040001 */  lbzu      r0, 0x1(r4)
/* 002430 80005430 9C060001 */  stbu      r0, 0x1(r6)
lbl_80005434:
/* 002434 80005434 34A5FFFF */  subic.    r5, r5, 0x1
/* 002438 80005438 4082FFF4 */  bne       lbl_8000542C
/* 00243C 8000543C 4E800020 */  blr
lbl_80005440:
/* 002440 80005440 7C842A14 */  add       r4, r4, r5
/* 002444 80005444 7CC32A14 */  add       r6, r3, r5
/* 002448 80005448 38A50001 */  addi      r5, r5, 0x1
/* 00244C 8000544C 4800000C */  b         lbl_80005458
lbl_80005450:
/* 002450 80005450 8C04FFFF */  lbzu      r0, -0x1(r4)
/* 002454 80005454 9C06FFFF */  stbu      r0, -0x1(r6)
lbl_80005458:
/* 002458 80005458 34A5FFFF */  subic.    r5, r5, 0x1
/* 00245C 8000545C 4082FFF4 */  bne       lbl_80005450
/* 002460 80005460 4E800020 */  blr
