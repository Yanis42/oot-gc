# __start.c
.include "macros.inc"

.section .init, "ax"

.balign 4

# 0x80003100 - 0x80003354

__check_pad3:
/* 000100 80003100 7C0802A6 */  mflr      r0
/* 000104 80003104 3C608000 */  lis       r3, 0x8000
/* 000108 80003108 90010004 */  stw       r0, 0x4(r1)
/* 00010C 8000310C 9421FFF8 */  stwu      r1, -0x8(r1)
/* 000110 80003110 A00330E4 */  lhz       r0, 0x30e4(r3)
/* 000114 80003114 70000EEF */  andi.     r0, r0, 0xeef
/* 000118 80003118 2C000EEF */  cmpwi     r0, 0xeef
/* 00011C 8000311C 40820014 */  bne       lbl_80003130
/* 000120 80003120 38600000 */  li        r3, 0x0
/* 000124 80003124 38800000 */  li        r4, 0x0
/* 000128 80003128 38A00000 */  li        r5, 0x0
/* 00012C 8000312C 4809C215 */  bl        OSResetSystem
lbl_80003130:
/* 000130 80003130 8001000C */  lwz       r0, 0xc(r1)
/* 000134 80003134 38210008 */  addi      r1, r1, 0x8
/* 000138 80003138 7C0803A6 */  mtlr      r0
/* 00013C 8000313C 4E800020 */  blr

glabel __start
/* 000140 80003140 48000139 */  bl        __init_registers
/* 000144 80003144 48000211 */  bl        __init_hardware
/* 000148 80003148 3800FFFF */  li        r0, -0x1
/* 00014C 8000314C 9421FFF8 */  stwu      r1, -0x8(r1)
/* 000150 80003150 90010004 */  stw       r0, 0x4(r1)
/* 000154 80003154 90010000 */  stw       r0, 0x0(r1)
/* 000158 80003158 4800013D */  bl        __init_data
/* 00015C 8000315C 38000000 */  li        r0, 0x0
/* 000160 80003160 3CC08000 */  lis       r6, 0x8000
/* 000164 80003164 38C60044 */  addi      r6, r6, 0x44
/* 000168 80003168 90060000 */  stw       r0, 0x0(r6)
/* 00016C 8000316C 3CC08000 */  lis       r6, 0x8000
/* 000170 80003170 38C600F4 */  addi      r6, r6, 0xf4
/* 000174 80003174 80C60000 */  lwz       r6, 0x0(r6)
/* 000178 80003178 28060000 */  cmplwi    r6, 0x0
/* 00017C 8000317C 4182000C */  beq       lbl_80003188
/* 000180 80003180 80E6000C */  lwz       r7, 0xc(r6)
/* 000184 80003184 48000024 */  b         lbl_800031A8
lbl_80003188:
/* 000188 80003188 3CA08000 */  lis       r5, 0x8000
/* 00018C 8000318C 38A50034 */  addi      r5, r5, 0x34
/* 000190 80003190 80A50000 */  lwz       r5, 0x0(r5)
/* 000194 80003194 28050000 */  cmplwi    r5, 0x0
/* 000198 80003198 41820038 */  beq       lbl_800031D0
/* 00019C 8000319C 3CE08000 */  lis       r7, 0x8000
/* 0001A0 800031A0 38E730E8 */  addi      r7, r7, 0x30e8
/* 0001A4 800031A4 80E70000 */  lwz       r7, 0x0(r7)
lbl_800031A8:
/* 0001A8 800031A8 38A00000 */  li        r5, 0x0
/* 0001AC 800031AC 28070002 */  cmplwi    r7, 0x2
/* 0001B0 800031B0 41820010 */  beq       lbl_800031C0
/* 0001B4 800031B4 28070003 */  cmplwi    r7, 0x3
/* 0001B8 800031B8 40820018 */  bne       lbl_800031D0
/* 0001BC 800031BC 38A00001 */  li        r5, 0x1
lbl_800031C0:
/* 0001C0 800031C0 3CC0800D */  lis       r6, InitMetroTRK@ha
/* 0001C4 800031C4 38C6BA30 */  addi      r6, r6, InitMetroTRK@l
/* 0001C8 800031C8 7CC803A6 */  mtlr      r6
/* 0001CC 800031CC 4E800021 */  blrl
lbl_800031D0:
/* 0001D0 800031D0 3CC08000 */  lis       r6, 0x8000
/* 0001D4 800031D4 38C600F4 */  addi      r6, r6, 0xf4
/* 0001D8 800031D8 80A60000 */  lwz       r5, 0x0(r6)
/* 0001DC 800031DC 28050000 */  cmplwi    r5, 0x0
/* 0001E0 800031E0 41A20050 */  beq+      lbl_80003230
/* 0001E4 800031E4 80C50008 */  lwz       r6, 0x8(r5)
/* 0001E8 800031E8 28060000 */  cmplwi    r6, 0x0
/* 0001EC 800031EC 41A20044 */  beq+      lbl_80003230
/* 0001F0 800031F0 7CC53214 */  add       r6, r5, r6
/* 0001F4 800031F4 81C60000 */  lwz       r14, 0x0(r6)
/* 0001F8 800031F8 280E0000 */  cmplwi    r14, 0x0
/* 0001FC 800031FC 41820034 */  beq       lbl_80003230
/* 000200 80003200 39E60004 */  addi      r15, r6, 0x4
/* 000204 80003204 7DC903A6 */  mtctr     r14
lbl_80003208:
/* 000208 80003208 38C60004 */  addi      r6, r6, 0x4
/* 00020C 8000320C 80E60000 */  lwz       r7, 0x0(r6)
/* 000210 80003210 7CE72A14 */  add       r7, r7, r5
/* 000214 80003214 90E60000 */  stw       r7, 0x0(r6)
/* 000218 80003218 4200FFF0 */  bdnz      lbl_80003208
/* 00021C 8000321C 3CA08000 */  lis       r5, 0x8000
/* 000220 80003220 38A50034 */  addi      r5, r5, 0x34
/* 000224 80003224 55E70034 */  clrrwi    r7, r15, 5
/* 000228 80003228 90E50000 */  stw       r7, 0x0(r5)
/* 00022C 8000322C 4800000C */  b         lbl_80003238
lbl_80003230:
/* 000230 80003230 39C00000 */  li        r14, 0x0
/* 000234 80003234 39E00000 */  li        r15, 0x0
lbl_80003238:
/* 000238 80003238 480A3589 */  bl        DBInit
/* 00023C 8000323C 480982B9 */  bl        OSInit
/* 000240 80003240 3C808000 */  lis       r4, 0x8000
/* 000244 80003244 388430E6 */  addi      r4, r4, 0x30e6
/* 000248 80003248 A0640000 */  lhz       r3, 0x0(r4)
/* 00024C 8000324C 70658000 */  andi.     r5, r3, 0x8000
/* 000250 80003250 41820010 */  beq       lbl_80003260
/* 000254 80003254 70637FFF */  andi.     r3, r3, 0x7fff
/* 000258 80003258 28030001 */  cmplwi    r3, 0x1
/* 00025C 8000325C 40820008 */  bne       lbl_80003264
lbl_80003260:
/* 000260 80003260 4BFFFEA1 */  bl        __check_pad3
lbl_80003264:
/* 000264 80003264 4809E6A1 */  bl        __init_user
/* 000268 80003268 7DC37378 */  mr        r3, r14
/* 00026C 8000326C 7DE47B78 */  mr        r4, r15
/* 000270 80003270 48002365 */  bl        main
/* 000274 80003274 480C9948 */  b         exit

__init_registers:
/* 000278 80003278 3C208019 */  lis       r1, _stack_addr@h
/* 00027C 8000327C 6021C650 */  ori       r1, r1, _stack_addr@l
/* 000280 80003280 3C408019 */  lis       r2, _SDA2_BASE_@h
/* 000284 80003284 60423F40 */  ori       r2, r2, _SDA2_BASE_@l
/* 000288 80003288 3DA08019 */  lis       r13, _SDA_BASE_@h
/* 00028C 8000328C 61AD2F80 */  ori       r13, r13, _SDA_BASE_@l
/* 000290 80003290 4E800020 */  blr

__init_data:
/* 000294 80003294 7C0802A6 */  mflr      r0
/* 000298 80003298 90010004 */  stw       r0, 0x4(r1)
/* 00029C 8000329C 9421FFE8 */  stwu      r1, -0x18(r1)
/* 0002A0 800032A0 93E10014 */  stw       r31, 0x14(r1)
/* 0002A4 800032A4 93C10010 */  stw       r30, 0x10(r1)
/* 0002A8 800032A8 93A1000C */  stw       r29, 0xc(r1)
/* 0002AC 800032AC 3C608000 */  lis       r3, _rom_copy_info@ha
/* 0002B0 800032B0 38035464 */  addi      r0, r3, _rom_copy_info@l
/* 0002B4 800032B4 7C1D0378 */  mr        r29, r0
/* 0002B8 800032B8 48000004 */  b         lbl_800032BC
lbl_800032BC:
/* 0002BC 800032BC 48000004 */  b         lbl_800032C0
lbl_800032C0:
/* 0002C0 800032C0 83DD0008 */  lwz       r30, 0x8(r29)
/* 0002C4 800032C4 281E0000 */  cmplwi    r30, 0x0
/* 0002C8 800032C8 41820038 */  beq       lbl_80003300
/* 0002CC 800032CC 809D0000 */  lwz       r4, 0x0(r29)
/* 0002D0 800032D0 83FD0004 */  lwz       r31, 0x4(r29)
/* 0002D4 800032D4 41820024 */  beq       lbl_800032F8
/* 0002D8 800032D8 7C1F2040 */  cmplw     r31, r4
/* 0002DC 800032DC 4182001C */  beq       lbl_800032F8
/* 0002E0 800032E0 7FE3FB78 */  mr        r3, r31
/* 0002E4 800032E4 7FC5F378 */  mr        r5, r30
/* 0002E8 800032E8 4800212D */  bl        memcpy
/* 0002EC 800032EC 7FE3FB78 */  mr        r3, r31
/* 0002F0 800032F0 7FC4F378 */  mr        r4, r30
/* 0002F4 800032F4 48000081 */  bl        __flush_cache
lbl_800032F8:
/* 0002F8 800032F8 3BBD000C */  addi      r29, r29, 0xc
/* 0002FC 800032FC 4BFFFFC4 */  b         lbl_800032C0
lbl_80003300:
/* 000300 80003300 3C608000 */  lis       r3, _bss_init_info@ha
/* 000304 80003304 380354D0 */  addi      r0, r3, _bss_init_info@l
/* 000308 80003308 7C1D0378 */  mr        r29, r0
/* 00030C 8000330C 48000004 */  b         lbl_80003310
lbl_80003310:
/* 000310 80003310 48000004 */  b         lbl_80003314
lbl_80003314:
/* 000314 80003314 80BD0004 */  lwz       r5, 0x4(r29)
/* 000318 80003318 28050000 */  cmplwi    r5, 0x0
/* 00031C 8000331C 4182001C */  beq       lbl_80003338
/* 000320 80003320 807D0000 */  lwz       r3, 0x0(r29)
/* 000324 80003324 4182000C */  beq       lbl_80003330
/* 000328 80003328 38800000 */  li        r4, 0x0
/* 00032C 8000332C 48001FF5 */  bl        memset
lbl_80003330:
/* 000330 80003330 3BBD0008 */  addi      r29, r29, 0x8
/* 000334 80003334 4BFFFFE0 */  b         lbl_80003314
lbl_80003338:
/* 000338 80003338 8001001C */  lwz       r0, 0x1c(r1)
/* 00033C 8000333C 83E10014 */  lwz       r31, 0x14(r1)
/* 000340 80003340 83C10010 */  lwz       r30, 0x10(r1)
/* 000344 80003344 83A1000C */  lwz       r29, 0xc(r1)
/* 000348 80003348 38210018 */  addi      r1, r1, 0x18
/* 00034C 8000334C 7C0803A6 */  mtlr      r0
/* 000350 80003350 4E800020 */  blr
