# flash.c
.include "macros.inc"

.section .text, "ax"

.balign 4

# 0x8008D1D0 - 0x8008D8E0

glabel flashEvent
/* 08A1D0 8008D1D0 7C0802A6 */  mflr      r0
/* 08A1D4 8008D1D4 2C040003 */  cmpwi     r4, 0x3
/* 08A1D8 8008D1D8 90010004 */  stw       r0, 0x4(r1)
/* 08A1DC 8008D1DC 9421FFE0 */  stwu      r1, -0x20(r1)
/* 08A1E0 8008D1E0 93E1001C */  stw       r31, 0x1c(r1)
/* 08A1E4 8008D1E4 3BE50000 */  addi      r31, r5, 0x0
/* 08A1E8 8008D1E8 93C10018 */  stw       r30, 0x18(r1)
/* 08A1EC 8008D1EC 3BC30000 */  addi      r30, r3, 0x0
/* 08A1F0 8008D1F0 41820044 */  beq       lbl_8008D234
/* 08A1F4 8008D1F4 40800018 */  bge       lbl_8008D20C
/* 08A1F8 8008D1F8 2C040002 */  cmpwi     r4, 0x2
/* 08A1FC 8008D1FC 4080001C */  bge       lbl_8008D218
/* 08A200 8008D200 2C040000 */  cmpwi     r4, 0x0
/* 08A204 8008D204 408000C4 */  bge       lbl_8008D2C8
/* 08A208 8008D208 480000B8 */  b         lbl_8008D2C0
lbl_8008D20C:
/* 08A20C 8008D20C 2C041002 */  cmpwi     r4, 0x1002
/* 08A210 8008D210 41820030 */  beq       lbl_8008D240
/* 08A214 8008D214 480000AC */  b         lbl_8008D2C0
lbl_8008D218:
/* 08A218 8008D218 93FE0000 */  stw       r31, 0x0(r30)
/* 08A21C 8008D21C 38000000 */  li        r0, 0x0
/* 08A220 8008D220 387E0008 */  addi      r3, r30, 0x8
/* 08A224 8008D224 901E0004 */  stw       r0, 0x4(r30)
/* 08A228 8008D228 38800080 */  li        r4, 0x80
/* 08A22C 8008D22C 4BF79EE9 */  bl        xlHeapTake
/* 08A230 8008D230 48000098 */  b         lbl_8008D2C8
lbl_8008D234:
/* 08A234 8008D234 387E0008 */  addi      r3, r30, 0x8
/* 08A238 8008D238 4BF79DC1 */  bl        xlHeapFree
/* 08A23C 8008D23C 4800008C */  b         lbl_8008D2C8
lbl_8008D240:
/* 08A240 8008D240 807E0000 */  lwz       r3, 0x0(r30)
/* 08A244 8008D244 3CA08009 */  lis       r5, flashPut8@ha
/* 08A248 8008D248 3CC08009 */  lis       r6, flashPut16@ha
/* 08A24C 8008D24C 3CE08009 */  lis       r7, flashPut32@ha
/* 08A250 8008D250 80630024 */  lwz       r3, 0x24(r3)
/* 08A254 8008D254 3C808009 */  lis       r4, flashPut64@ha
/* 08A258 8008D258 3904D3A0 */  addi      r8, r4, flashPut64@l
/* 08A25C 8008D25C 38A5D680 */  addi      r5, r5, flashPut8@l
/* 08A260 8008D260 38C6D678 */  addi      r6, r6, flashPut16@l
/* 08A264 8008D264 38E7D3A8 */  addi      r7, r7, flashPut32@l
/* 08A268 8008D268 389F0000 */  addi      r4, r31, 0x0
/* 08A26C 8008D26C 4BFA7679 */  bl        cpuSetDevicePut
/* 08A270 8008D270 2C030000 */  cmpwi     r3, 0x0
/* 08A274 8008D274 4082000C */  bne       lbl_8008D280
/* 08A278 8008D278 38600000 */  li        r3, 0x0
/* 08A27C 8008D27C 48000050 */  b         lbl_8008D2CC
lbl_8008D280:
/* 08A280 8008D280 807E0000 */  lwz       r3, 0x0(r30)
/* 08A284 8008D284 3CA08009 */  lis       r5, flashGet8@ha
/* 08A288 8008D288 3CC08009 */  lis       r6, flashGet16@ha
/* 08A28C 8008D28C 3CE08009 */  lis       r7, flashGet32@ha
/* 08A290 8008D290 80630024 */  lwz       r3, 0x24(r3)
/* 08A294 8008D294 3C808009 */  lis       r4, flashGet64@ha
/* 08A298 8008D298 3904D2E4 */  addi      r8, r4, flashGet64@l
/* 08A29C 8008D29C 38A5D398 */  addi      r5, r5, flashGet8@l
/* 08A2A0 8008D2A0 38C6D390 */  addi      r6, r6, flashGet16@l
/* 08A2A4 8008D2A4 38E7D2EC */  addi      r7, r7, flashGet32@l
/* 08A2A8 8008D2A8 389F0000 */  addi      r4, r31, 0x0
/* 08A2AC 8008D2AC 4BFA7651 */  bl        cpuSetDeviceGet
/* 08A2B0 8008D2B0 2C030000 */  cmpwi     r3, 0x0
/* 08A2B4 8008D2B4 40820014 */  bne       lbl_8008D2C8
/* 08A2B8 8008D2B8 38600000 */  li        r3, 0x0
/* 08A2BC 8008D2BC 48000010 */  b         lbl_8008D2CC
lbl_8008D2C0:
/* 08A2C0 8008D2C0 38600000 */  li        r3, 0x0
/* 08A2C4 8008D2C4 48000008 */  b         lbl_8008D2CC
lbl_8008D2C8:
/* 08A2C8 8008D2C8 38600001 */  li        r3, 0x1
lbl_8008D2CC:
/* 08A2CC 8008D2CC 80010024 */  lwz       r0, 0x24(r1)
/* 08A2D0 8008D2D0 83E1001C */  lwz       r31, 0x1c(r1)
/* 08A2D4 8008D2D4 83C10018 */  lwz       r30, 0x18(r1)
/* 08A2D8 8008D2D8 7C0803A6 */  mtlr      r0
/* 08A2DC 8008D2DC 38210020 */  addi      r1, r1, 0x20
/* 08A2E0 8008D2E0 4E800020 */  blr

glabel flashGet64
/* 08A2E4 8008D2E4 38600001 */  li        r3, 0x1
/* 08A2E8 8008D2E8 4E800020 */  blr

glabel flashGet32
/* 08A2EC 8008D2EC 80830004 */  lwz       r4, 0x4(r3)
/* 08A2F0 8008D2F0 3C00F000 */  lis       r0, 0xf000
/* 08A2F4 8008D2F4 5484000E */  clrrwi    r4, r4, 24
/* 08A2F8 8008D2F8 7C040000 */  cmpw      r4, r0
/* 08A2FC 8008D2FC 41820084 */  beq       lbl_8008D380
/* 08A300 8008D300 40800044 */  bge       lbl_8008D344
/* 08A304 8008D304 3C00D200 */  lis       r0, 0xd200
/* 08A308 8008D308 7C040000 */  cmpw      r4, r0
/* 08A30C 8008D30C 41820074 */  beq       lbl_8008D380
/* 08A310 8008D310 40800024 */  bge       lbl_8008D334
/* 08A314 8008D314 3C00B400 */  lis       r0, 0xb400
/* 08A318 8008D318 7C040000 */  cmpw      r4, r0
/* 08A31C 8008D31C 41820064 */  beq       lbl_8008D380
/* 08A320 8008D320 40800068 */  bge       lbl_8008D388
/* 08A324 8008D324 3C00A500 */  lis       r0, 0xa500
/* 08A328 8008D328 7C040000 */  cmpw      r4, r0
/* 08A32C 8008D32C 41820054 */  beq       lbl_8008D380
/* 08A330 8008D330 48000058 */  b         lbl_8008D388
lbl_8008D334:
/* 08A334 8008D334 3C00E100 */  lis       r0, 0xe100
/* 08A338 8008D338 7C040000 */  cmpw      r4, r0
/* 08A33C 8008D33C 41820044 */  beq       lbl_8008D380
/* 08A340 8008D340 48000048 */  b         lbl_8008D388
lbl_8008D344:
/* 08A344 8008D344 3C004B00 */  lis       r0, 0x4b00
/* 08A348 8008D348 7C040000 */  cmpw      r4, r0
/* 08A34C 8008D34C 41820034 */  beq       lbl_8008D380
/* 08A350 8008D350 40800020 */  bge       lbl_8008D370
/* 08A354 8008D354 3C003C00 */  lis       r0, 0x3c00
/* 08A358 8008D358 7C040000 */  cmpw      r4, r0
/* 08A35C 8008D35C 41820024 */  beq       lbl_8008D380
/* 08A360 8008D360 40800028 */  bge       lbl_8008D388
/* 08A364 8008D364 2C040000 */  cmpwi     r4, 0x0
/* 08A368 8008D368 41820018 */  beq       lbl_8008D380
/* 08A36C 8008D36C 4800001C */  b         lbl_8008D388
lbl_8008D370:
/* 08A370 8008D370 3C007800 */  lis       r0, 0x7800
/* 08A374 8008D374 7C040000 */  cmpw      r4, r0
/* 08A378 8008D378 41820008 */  beq       lbl_8008D380
/* 08A37C 8008D37C 4800000C */  b         lbl_8008D388
lbl_8008D380:
/* 08A380 8008D380 8003000C */  lwz       r0, 0xc(r3)
/* 08A384 8008D384 90050000 */  stw       r0, 0x0(r5)
lbl_8008D388:
/* 08A388 8008D388 38600001 */  li        r3, 0x1
/* 08A38C 8008D38C 4E800020 */  blr

glabel flashGet16
/* 08A390 8008D390 38600001 */  li        r3, 0x1
/* 08A394 8008D394 4E800020 */  blr

glabel flashGet8
/* 08A398 8008D398 38600001 */  li        r3, 0x1
/* 08A39C 8008D39C 4E800020 */  blr

glabel flashPut64
/* 08A3A0 8008D3A0 38600001 */  li        r3, 0x1
/* 08A3A4 8008D3A4 4E800020 */  blr

glabel flashPut32
/* 08A3A8 8008D3A8 7C0802A6 */  mflr      r0
/* 08A3AC 8008D3AC 90010004 */  stw       r0, 0x4(r1)
/* 08A3B0 8008D3B0 3C00F000 */  lis       r0, 0xf000
/* 08A3B4 8008D3B4 9421FF50 */  stwu      r1, -0xb0(r1)
/* 08A3B8 8008D3B8 93E100AC */  stw       r31, 0xac(r1)
/* 08A3BC 8008D3BC 7CBF2B78 */  mr        r31, r5
/* 08A3C0 8008D3C0 93C100A8 */  stw       r30, 0xa8(r1)
/* 08A3C4 8008D3C4 3BC30000 */  addi      r30, r3, 0x0
/* 08A3C8 8008D3C8 93A100A4 */  stw       r29, 0xa4(r1)
/* 08A3CC 8008D3CC 938100A0 */  stw       r28, 0xa0(r1)
/* 08A3D0 8008D3D0 80850000 */  lwz       r4, 0x0(r5)
/* 08A3D4 8008D3D4 5483000E */  clrrwi    r3, r4, 24
/* 08A3D8 8008D3D8 7C030000 */  cmpw      r3, r0
/* 08A3DC 8008D3DC 41820264 */  beq       lbl_8008D640
/* 08A3E0 8008D3E0 40800044 */  bge       lbl_8008D424
/* 08A3E4 8008D3E4 3C00D200 */  lis       r0, 0xd200
/* 08A3E8 8008D3E8 7C030000 */  cmpw      r3, r0
/* 08A3EC 8008D3EC 41820260 */  beq       lbl_8008D64C
/* 08A3F0 8008D3F0 40800024 */  bge       lbl_8008D414
/* 08A3F4 8008D3F4 3C00B400 */  lis       r0, 0xb400
/* 08A3F8 8008D3F8 7C030000 */  cmpw      r3, r0
/* 08A3FC 8008D3FC 41820250 */  beq       lbl_8008D64C
/* 08A400 8008D400 4080024C */  bge       lbl_8008D64C
/* 08A404 8008D404 3C00A500 */  lis       r0, 0xa500
/* 08A408 8008D408 7C030000 */  cmpw      r3, r0
/* 08A40C 8008D40C 41820204 */  beq       lbl_8008D610
/* 08A410 8008D410 4800023C */  b         lbl_8008D64C
lbl_8008D414:
/* 08A414 8008D414 3C00E100 */  lis       r0, 0xe100
/* 08A418 8008D418 7C030000 */  cmpw      r3, r0
/* 08A41C 8008D41C 41820044 */  beq       lbl_8008D460
/* 08A420 8008D420 4800022C */  b         lbl_8008D64C
lbl_8008D424:
/* 08A424 8008D424 3C004B00 */  lis       r0, 0x4b00
/* 08A428 8008D428 7C030000 */  cmpw      r3, r0
/* 08A42C 8008D42C 41820220 */  beq       lbl_8008D64C
/* 08A430 8008D430 40800020 */  bge       lbl_8008D450
/* 08A434 8008D434 3C003C00 */  lis       r0, 0x3c00
/* 08A438 8008D438 7C030000 */  cmpw      r3, r0
/* 08A43C 8008D43C 41820210 */  beq       lbl_8008D64C
/* 08A440 8008D440 4080020C */  bge       lbl_8008D64C
/* 08A444 8008D444 2C030000 */  cmpwi     r3, 0x0
/* 08A448 8008D448 41820204 */  beq       lbl_8008D64C
/* 08A44C 8008D44C 48000200 */  b         lbl_8008D64C
lbl_8008D450:
/* 08A450 8008D450 3C007800 */  lis       r0, 0x7800
/* 08A454 8008D454 7C030000 */  cmpw      r3, r0
/* 08A458 8008D458 41820018 */  beq       lbl_8008D470
/* 08A45C 8008D45C 480001F0 */  b         lbl_8008D64C
lbl_8008D460:
/* 08A460 8008D460 3C601112 */  lis       r3, 0x1112
/* 08A464 8008D464 38038001 */  subi      r0, r3, 0x7fff
/* 08A468 8008D468 901E000C */  stw       r0, 0xc(r30)
/* 08A46C 8008D46C 480001E0 */  b         lbl_8008D64C
lbl_8008D470:
/* 08A470 8008D470 3C601112 */  lis       r3, 0x1112
/* 08A474 8008D474 38638008 */  subi      r3, r3, 0x7ff8
/* 08A478 8008D478 38000002 */  li        r0, 0x2
/* 08A47C 8008D47C 907E000C */  stw       r3, 0xc(r30)
/* 08A480 8008D480 7C0903A6 */  mtctr     r0
/* 08A484 8008D484 3861001C */  addi      r3, r1, 0x1c
/* 08A488 8008D488 38000000 */  li        r0, 0x0
lbl_8008D48C:
/* 08A48C 8008D48C 98030000 */  stb       r0, 0x0(r3)
/* 08A490 8008D490 98030001 */  stb       r0, 0x1(r3)
/* 08A494 8008D494 98030002 */  stb       r0, 0x2(r3)
/* 08A498 8008D498 98030003 */  stb       r0, 0x3(r3)
/* 08A49C 8008D49C 98030004 */  stb       r0, 0x4(r3)
/* 08A4A0 8008D4A0 98030005 */  stb       r0, 0x5(r3)
/* 08A4A4 8008D4A4 98030006 */  stb       r0, 0x6(r3)
/* 08A4A8 8008D4A8 98030007 */  stb       r0, 0x7(r3)
/* 08A4AC 8008D4AC 98030008 */  stb       r0, 0x8(r3)
/* 08A4B0 8008D4B0 98030009 */  stb       r0, 0x9(r3)
/* 08A4B4 8008D4B4 9803000A */  stb       r0, 0xa(r3)
/* 08A4B8 8008D4B8 9803000B */  stb       r0, 0xb(r3)
/* 08A4BC 8008D4BC 9803000C */  stb       r0, 0xc(r3)
/* 08A4C0 8008D4C0 9803000D */  stb       r0, 0xd(r3)
/* 08A4C4 8008D4C4 9803000E */  stb       r0, 0xe(r3)
/* 08A4C8 8008D4C8 9803000F */  stb       r0, 0xf(r3)
/* 08A4CC 8008D4CC 98030010 */  stb       r0, 0x10(r3)
/* 08A4D0 8008D4D0 98030011 */  stb       r0, 0x11(r3)
/* 08A4D4 8008D4D4 98030012 */  stb       r0, 0x12(r3)
/* 08A4D8 8008D4D8 98030013 */  stb       r0, 0x13(r3)
/* 08A4DC 8008D4DC 98030014 */  stb       r0, 0x14(r3)
/* 08A4E0 8008D4E0 98030015 */  stb       r0, 0x15(r3)
/* 08A4E4 8008D4E4 98030016 */  stb       r0, 0x16(r3)
/* 08A4E8 8008D4E8 98030017 */  stb       r0, 0x17(r3)
/* 08A4EC 8008D4EC 98030018 */  stb       r0, 0x18(r3)
/* 08A4F0 8008D4F0 98030019 */  stb       r0, 0x19(r3)
/* 08A4F4 8008D4F4 9803001A */  stb       r0, 0x1a(r3)
/* 08A4F8 8008D4F8 9803001B */  stb       r0, 0x1b(r3)
/* 08A4FC 8008D4FC 9803001C */  stb       r0, 0x1c(r3)
/* 08A500 8008D500 9803001D */  stb       r0, 0x1d(r3)
/* 08A504 8008D504 9803001E */  stb       r0, 0x1e(r3)
/* 08A508 8008D508 9803001F */  stb       r0, 0x1f(r3)
/* 08A50C 8008D50C 98030020 */  stb       r0, 0x20(r3)
/* 08A510 8008D510 98030021 */  stb       r0, 0x21(r3)
/* 08A514 8008D514 98030022 */  stb       r0, 0x22(r3)
/* 08A518 8008D518 98030023 */  stb       r0, 0x23(r3)
/* 08A51C 8008D51C 98030024 */  stb       r0, 0x24(r3)
/* 08A520 8008D520 98030025 */  stb       r0, 0x25(r3)
/* 08A524 8008D524 98030026 */  stb       r0, 0x26(r3)
/* 08A528 8008D528 98030027 */  stb       r0, 0x27(r3)
/* 08A52C 8008D52C 98030028 */  stb       r0, 0x28(r3)
/* 08A530 8008D530 98030029 */  stb       r0, 0x29(r3)
/* 08A534 8008D534 9803002A */  stb       r0, 0x2a(r3)
/* 08A538 8008D538 9803002B */  stb       r0, 0x2b(r3)
/* 08A53C 8008D53C 9803002C */  stb       r0, 0x2c(r3)
/* 08A540 8008D540 9803002D */  stb       r0, 0x2d(r3)
/* 08A544 8008D544 9803002E */  stb       r0, 0x2e(r3)
/* 08A548 8008D548 9803002F */  stb       r0, 0x2f(r3)
/* 08A54C 8008D54C 98030030 */  stb       r0, 0x30(r3)
/* 08A550 8008D550 98030031 */  stb       r0, 0x31(r3)
/* 08A554 8008D554 98030032 */  stb       r0, 0x32(r3)
/* 08A558 8008D558 98030033 */  stb       r0, 0x33(r3)
/* 08A55C 8008D55C 98030034 */  stb       r0, 0x34(r3)
/* 08A560 8008D560 98030035 */  stb       r0, 0x35(r3)
/* 08A564 8008D564 98030036 */  stb       r0, 0x36(r3)
/* 08A568 8008D568 98030037 */  stb       r0, 0x37(r3)
/* 08A56C 8008D56C 98030038 */  stb       r0, 0x38(r3)
/* 08A570 8008D570 98030039 */  stb       r0, 0x39(r3)
/* 08A574 8008D574 9803003A */  stb       r0, 0x3a(r3)
/* 08A578 8008D578 9803003B */  stb       r0, 0x3b(r3)
/* 08A57C 8008D57C 9803003C */  stb       r0, 0x3c(r3)
/* 08A580 8008D580 9803003D */  stb       r0, 0x3d(r3)
/* 08A584 8008D584 9803003E */  stb       r0, 0x3e(r3)
/* 08A588 8008D588 9803003F */  stb       r0, 0x3f(r3)
/* 08A58C 8008D58C 38630040 */  addi      r3, r3, 0x40
/* 08A590 8008D590 4200FEFC */  bdnz      lbl_8008D48C
/* 08A594 8008D594 809E0004 */  lwz       r4, 0x4(r30)
/* 08A598 8008D598 5483000E */  clrrwi    r3, r4, 24
/* 08A59C 8008D59C 3C03C400 */  subis     r0, r3, 0x3c00
/* 08A5A0 8008D5A0 28000000 */  cmplwi    r0, 0x0
/* 08A5A4 8008D5A4 40820040 */  bne       lbl_8008D5E4
/* 08A5A8 8008D5A8 3B800000 */  li        r28, 0x0
/* 08A5AC 8008D5AC 579D3830 */  slwi      r29, r28, 7
lbl_8008D5B0:
/* 08A5B0 8008D5B0 387D0000 */  addi      r3, r29, 0x0
/* 08A5B4 8008D5B4 3881001C */  addi      r4, r1, 0x1c
/* 08A5B8 8008D5B8 38A00080 */  li        r5, 0x80
/* 08A5BC 8008D5BC 4BF7B661 */  bl        simulatorWriteFLASH
/* 08A5C0 8008D5C0 2C030000 */  cmpwi     r3, 0x0
/* 08A5C4 8008D5C4 4082000C */  bne       lbl_8008D5D0
/* 08A5C8 8008D5C8 38600000 */  li        r3, 0x0
/* 08A5CC 8008D5CC 4800008C */  b         lbl_8008D658
lbl_8008D5D0:
/* 08A5D0 8008D5D0 3B9C0001 */  addi      r28, r28, 0x1
/* 08A5D4 8008D5D4 2C1C0400 */  cmpwi     r28, 0x400
/* 08A5D8 8008D5D8 3BBD0080 */  addi      r29, r29, 0x80
/* 08A5DC 8008D5DC 4180FFD4 */  blt       lbl_8008D5B0
/* 08A5E0 8008D5E0 4800006C */  b         lbl_8008D64C
lbl_8008D5E4:
/* 08A5E4 8008D5E4 3C03B500 */  subis     r0, r3, 0x4b00
/* 08A5E8 8008D5E8 28000000 */  cmplwi    r0, 0x0
/* 08A5EC 8008D5EC 40820060 */  bne       lbl_8008D64C
/* 08A5F0 8008D5F0 54833870 */  clrlslwi  r3, r4, 8, 7
/* 08A5F4 8008D5F4 3881001C */  addi      r4, r1, 0x1c
/* 08A5F8 8008D5F8 38A00080 */  li        r5, 0x80
/* 08A5FC 8008D5FC 4BF7B621 */  bl        simulatorWriteFLASH
/* 08A600 8008D600 2C030000 */  cmpwi     r3, 0x0
/* 08A604 8008D604 40820048 */  bne       lbl_8008D64C
/* 08A608 8008D608 38600000 */  li        r3, 0x0
/* 08A60C 8008D60C 4800004C */  b         lbl_8008D658
lbl_8008D610:
/* 08A610 8008D610 3C601112 */  lis       r3, 0x1112
/* 08A614 8008D614 38038004 */  subi      r0, r3, 0x7ffc
/* 08A618 8008D618 901E000C */  stw       r0, 0xc(r30)
/* 08A61C 8008D61C 38A00080 */  li        r5, 0x80
/* 08A620 8008D620 801F0000 */  lwz       r0, 0x0(r31)
/* 08A624 8008D624 809E0008 */  lwz       r4, 0x8(r30)
/* 08A628 8008D628 54033870 */  clrlslwi  r3, r0, 8, 7
/* 08A62C 8008D62C 4BF7B5F1 */  bl        simulatorWriteFLASH
/* 08A630 8008D630 2C030000 */  cmpwi     r3, 0x0
/* 08A634 8008D634 40820018 */  bne       lbl_8008D64C
/* 08A638 8008D638 38600000 */  li        r3, 0x0
/* 08A63C 8008D63C 4800001C */  b         lbl_8008D658
lbl_8008D640:
/* 08A640 8008D640 3C601112 */  lis       r3, 0x1112
/* 08A644 8008D644 38038004 */  subi      r0, r3, 0x7ffc
/* 08A648 8008D648 901E000C */  stw       r0, 0xc(r30)
lbl_8008D64C:
/* 08A64C 8008D64C 801F0000 */  lwz       r0, 0x0(r31)
/* 08A650 8008D650 38600001 */  li        r3, 0x1
/* 08A654 8008D654 901E0004 */  stw       r0, 0x4(r30)
lbl_8008D658:
/* 08A658 8008D658 800100B4 */  lwz       r0, 0xb4(r1)
/* 08A65C 8008D65C 83E100AC */  lwz       r31, 0xac(r1)
/* 08A660 8008D660 83C100A8 */  lwz       r30, 0xa8(r1)
/* 08A664 8008D664 7C0803A6 */  mtlr      r0
/* 08A668 8008D668 83A100A4 */  lwz       r29, 0xa4(r1)
/* 08A66C 8008D66C 838100A0 */  lwz       r28, 0xa0(r1)
/* 08A670 8008D670 382100B0 */  addi      r1, r1, 0xb0
/* 08A674 8008D674 4E800020 */  blr

glabel flashPut16
/* 08A678 8008D678 38600001 */  li        r3, 0x1
/* 08A67C 8008D67C 4E800020 */  blr

glabel flashPut8
/* 08A680 8008D680 38600001 */  li        r3, 0x1
/* 08A684 8008D684 4E800020 */  blr

glabel flashTransferFLASH
/* 08A688 8008D688 7C0802A6 */  mflr      r0
/* 08A68C 8008D68C 38A40000 */  addi      r5, r4, 0x0
/* 08A690 8008D690 90010004 */  stw       r0, 0x4(r1)
/* 08A694 8008D694 9421FFD8 */  stwu      r1, -0x28(r1)
/* 08A698 8008D698 93E10024 */  stw       r31, 0x24(r1)
/* 08A69C 8008D69C 7C7F1B78 */  mr        r31, r3
/* 08A6A0 8008D6A0 38810018 */  addi      r4, r1, 0x18
/* 08A6A4 8008D6A4 90C10014 */  stw       r6, 0x14(r1)
/* 08A6A8 8008D6A8 38C10014 */  addi      r6, r1, 0x14
/* 08A6AC 8008D6AC 80630000 */  lwz       r3, 0x0(r3)
/* 08A6B0 8008D6B0 8063002C */  lwz       r3, 0x2c(r3)
/* 08A6B4 8008D6B4 4BFDF25D */  bl        ramGetBuffer
/* 08A6B8 8008D6B8 2C030000 */  cmpwi     r3, 0x0
/* 08A6BC 8008D6BC 4082000C */  bne       lbl_8008D6C8
/* 08A6C0 8008D6C0 38600000 */  li        r3, 0x0
/* 08A6C4 8008D6C4 480000C4 */  b         lbl_8008D788
lbl_8008D6C8:
/* 08A6C8 8008D6C8 807F0004 */  lwz       r3, 0x4(r31)
/* 08A6CC 8008D6CC 3C00F000 */  lis       r0, 0xf000
/* 08A6D0 8008D6D0 5463000E */  clrrwi    r3, r3, 24
/* 08A6D4 8008D6D4 7C030000 */  cmpw      r3, r0
/* 08A6D8 8008D6D8 418200AC */  beq       lbl_8008D784
/* 08A6DC 8008D6DC 40800044 */  bge       lbl_8008D720
/* 08A6E0 8008D6E0 3C00D200 */  lis       r0, 0xd200
/* 08A6E4 8008D6E4 7C030000 */  cmpw      r3, r0
/* 08A6E8 8008D6E8 4182009C */  beq       lbl_8008D784
/* 08A6EC 8008D6EC 40800024 */  bge       lbl_8008D710
/* 08A6F0 8008D6F0 3C00B400 */  lis       r0, 0xb400
/* 08A6F4 8008D6F4 7C030000 */  cmpw      r3, r0
/* 08A6F8 8008D6F8 41820064 */  beq       lbl_8008D75C
/* 08A6FC 8008D6FC 40800088 */  bge       lbl_8008D784
/* 08A700 8008D700 3C00A500 */  lis       r0, 0xa500
/* 08A704 8008D704 7C030000 */  cmpw      r3, r0
/* 08A708 8008D708 4182007C */  beq       lbl_8008D784
/* 08A70C 8008D70C 48000078 */  b         lbl_8008D784
lbl_8008D710:
/* 08A710 8008D710 3C00E100 */  lis       r0, 0xe100
/* 08A714 8008D714 7C030000 */  cmpw      r3, r0
/* 08A718 8008D718 4182006C */  beq       lbl_8008D784
/* 08A71C 8008D71C 48000068 */  b         lbl_8008D784
lbl_8008D720:
/* 08A720 8008D720 3C004B00 */  lis       r0, 0x4b00
/* 08A724 8008D724 7C030000 */  cmpw      r3, r0
/* 08A728 8008D728 4182005C */  beq       lbl_8008D784
/* 08A72C 8008D72C 40800020 */  bge       lbl_8008D74C
/* 08A730 8008D730 3C003C00 */  lis       r0, 0x3c00
/* 08A734 8008D734 7C030000 */  cmpw      r3, r0
/* 08A738 8008D738 4182004C */  beq       lbl_8008D784
/* 08A73C 8008D73C 40800048 */  bge       lbl_8008D784
/* 08A740 8008D740 2C030000 */  cmpwi     r3, 0x0
/* 08A744 8008D744 41820040 */  beq       lbl_8008D784
/* 08A748 8008D748 4800003C */  b         lbl_8008D784
lbl_8008D74C:
/* 08A74C 8008D74C 3C007800 */  lis       r0, 0x7800
/* 08A750 8008D750 7C030000 */  cmpw      r3, r0
/* 08A754 8008D754 41820030 */  beq       lbl_8008D784
/* 08A758 8008D758 4800002C */  b         lbl_8008D784
lbl_8008D75C:
/* 08A75C 8008D75C 38800000 */  li        r4, 0x0
/* 08A760 8008D760 48000018 */  b         lbl_8008D778
lbl_8008D764:
/* 08A764 8008D764 80010018 */  lwz       r0, 0x18(r1)
/* 08A768 8008D768 807F0008 */  lwz       r3, 0x8(r31)
/* 08A76C 8008D76C 7C0400AE */  lbzx      r0, r4, r0
/* 08A770 8008D770 7C0321AE */  stbx      r0, r3, r4
/* 08A774 8008D774 38840001 */  addi      r4, r4, 0x1
lbl_8008D778:
/* 08A778 8008D778 80010014 */  lwz       r0, 0x14(r1)
/* 08A77C 8008D77C 7C040000 */  cmpw      r4, r0
/* 08A780 8008D780 4180FFE4 */  blt       lbl_8008D764
lbl_8008D784:
/* 08A784 8008D784 38600001 */  li        r3, 0x1
lbl_8008D788:
/* 08A788 8008D788 8001002C */  lwz       r0, 0x2c(r1)
/* 08A78C 8008D78C 83E10024 */  lwz       r31, 0x24(r1)
/* 08A790 8008D790 38210028 */  addi      r1, r1, 0x28
/* 08A794 8008D794 7C0803A6 */  mtlr      r0
/* 08A798 8008D798 4E800020 */  blr

glabel flashCopyFLASH
/* 08A79C 8008D79C 7C0802A6 */  mflr      r0
/* 08A7A0 8008D7A0 90010004 */  stw       r0, 0x4(r1)
/* 08A7A4 8008D7A4 9421FFD8 */  stwu      r1, -0x28(r1)
/* 08A7A8 8008D7A8 93E10024 */  stw       r31, 0x24(r1)
/* 08A7AC 8008D7AC 3BE50000 */  addi      r31, r5, 0x0
/* 08A7B0 8008D7B0 38A40000 */  addi      r5, r4, 0x0
/* 08A7B4 8008D7B4 93C10020 */  stw       r30, 0x20(r1)
/* 08A7B8 8008D7B8 7C7E1B78 */  mr        r30, r3
/* 08A7BC 8008D7BC 38810018 */  addi      r4, r1, 0x18
/* 08A7C0 8008D7C0 90C10014 */  stw       r6, 0x14(r1)
/* 08A7C4 8008D7C4 38C10014 */  addi      r6, r1, 0x14
/* 08A7C8 8008D7C8 80630000 */  lwz       r3, 0x0(r3)
/* 08A7CC 8008D7CC 8063002C */  lwz       r3, 0x2c(r3)
/* 08A7D0 8008D7D0 4BFDF141 */  bl        ramGetBuffer
/* 08A7D4 8008D7D4 2C030000 */  cmpwi     r3, 0x0
/* 08A7D8 8008D7D8 4082000C */  bne       lbl_8008D7E4
/* 08A7DC 8008D7DC 38600000 */  li        r3, 0x0
/* 08A7E0 8008D7E0 480000E8 */  b         lbl_8008D8C8
lbl_8008D7E4:
/* 08A7E4 8008D7E4 809E000C */  lwz       r4, 0xc(r30)
/* 08A7E8 8008D7E8 3C00F000 */  lis       r0, 0xf000
/* 08A7EC 8008D7EC 80610018 */  lwz       r3, 0x18(r1)
/* 08A7F0 8008D7F0 90830000 */  stw       r4, 0x0(r3)
/* 08A7F4 8008D7F4 807E0004 */  lwz       r3, 0x4(r30)
/* 08A7F8 8008D7F8 5463000E */  clrrwi    r3, r3, 24
/* 08A7FC 8008D7FC 7C030000 */  cmpw      r3, r0
/* 08A800 8008D800 418200A4 */  beq       lbl_8008D8A4
/* 08A804 8008D804 40800044 */  bge       lbl_8008D848
/* 08A808 8008D808 3C00D200 */  lis       r0, 0xd200
/* 08A80C 8008D80C 7C030000 */  cmpw      r3, r0
/* 08A810 8008D810 418200B4 */  beq       lbl_8008D8C4
/* 08A814 8008D814 40800024 */  bge       lbl_8008D838
/* 08A818 8008D818 3C00B400 */  lis       r0, 0xb400
/* 08A81C 8008D81C 7C030000 */  cmpw      r3, r0
/* 08A820 8008D820 418200A4 */  beq       lbl_8008D8C4
/* 08A824 8008D824 408000A0 */  bge       lbl_8008D8C4
/* 08A828 8008D828 3C00A500 */  lis       r0, 0xa500
/* 08A82C 8008D82C 7C030000 */  cmpw      r3, r0
/* 08A830 8008D830 41820094 */  beq       lbl_8008D8C4
/* 08A834 8008D834 48000090 */  b         lbl_8008D8C4
lbl_8008D838:
/* 08A838 8008D838 3C00E100 */  lis       r0, 0xe100
/* 08A83C 8008D83C 7C030000 */  cmpw      r3, r0
/* 08A840 8008D840 41820044 */  beq       lbl_8008D884
/* 08A844 8008D844 48000080 */  b         lbl_8008D8C4
lbl_8008D848:
/* 08A848 8008D848 3C004B00 */  lis       r0, 0x4b00
/* 08A84C 8008D84C 7C030000 */  cmpw      r3, r0
/* 08A850 8008D850 41820074 */  beq       lbl_8008D8C4
/* 08A854 8008D854 40800020 */  bge       lbl_8008D874
/* 08A858 8008D858 3C003C00 */  lis       r0, 0x3c00
/* 08A85C 8008D85C 7C030000 */  cmpw      r3, r0
/* 08A860 8008D860 41820064 */  beq       lbl_8008D8C4
/* 08A864 8008D864 40800060 */  bge       lbl_8008D8C4
/* 08A868 8008D868 2C030000 */  cmpwi     r3, 0x0
/* 08A86C 8008D86C 41820058 */  beq       lbl_8008D8C4
/* 08A870 8008D870 48000054 */  b         lbl_8008D8C4
lbl_8008D874:
/* 08A874 8008D874 3C007800 */  lis       r0, 0x7800
/* 08A878 8008D878 7C030000 */  cmpw      r3, r0
/* 08A87C 8008D87C 41820048 */  beq       lbl_8008D8C4
/* 08A880 8008D880 48000044 */  b         lbl_8008D8C4
lbl_8008D884:
/* 08A884 8008D884 80BE000C */  lwz       r5, 0xc(r30)
/* 08A888 8008D888 3C6000C2 */  lis       r3, 0xc2
/* 08A88C 8008D88C 80810018 */  lwz       r4, 0x18(r1)
/* 08A890 8008D890 3803001E */  addi      r0, r3, 0x1e
/* 08A894 8008D894 90A40000 */  stw       r5, 0x0(r4)
/* 08A898 8008D898 80610018 */  lwz       r3, 0x18(r1)
/* 08A89C 8008D89C 90030004 */  stw       r0, 0x4(r3)
/* 08A8A0 8008D8A0 48000024 */  b         lbl_8008D8C4
lbl_8008D8A4:
/* 08A8A4 8008D8A4 80810018 */  lwz       r4, 0x18(r1)
/* 08A8A8 8008D8A8 57E309FC */  clrlslwi  r3, r31, 8, 1
/* 08A8AC 8008D8AC 80A10014 */  lwz       r5, 0x14(r1)
/* 08A8B0 8008D8B0 4BF7B3A1 */  bl        simulatorReadFLASH
/* 08A8B4 8008D8B4 2C030000 */  cmpwi     r3, 0x0
/* 08A8B8 8008D8B8 4082000C */  bne       lbl_8008D8C4
/* 08A8BC 8008D8BC 38600000 */  li        r3, 0x0
/* 08A8C0 8008D8C0 48000008 */  b         lbl_8008D8C8
lbl_8008D8C4:
/* 08A8C4 8008D8C4 38600001 */  li        r3, 0x1
lbl_8008D8C8:
/* 08A8C8 8008D8C8 8001002C */  lwz       r0, 0x2c(r1)
/* 08A8CC 8008D8CC 83E10024 */  lwz       r31, 0x24(r1)
/* 08A8D0 8008D8D0 83C10020 */  lwz       r30, 0x20(r1)
/* 08A8D4 8008D8D4 7C0803A6 */  mtlr      r0
/* 08A8D8 8008D8D8 38210028 */  addi      r1, r1, 0x28
/* 08A8DC 8008D8DC 4E800020 */  blr

# 0x800EFC18 - 0x800EFC28
.section .data, "wa"

.balign 8

glabel gClassFlash
	.long D_8018B588
	.long 0x00000010
	.long 0x00000000
	.long flashEvent

# 0x8018B588 - 0x8018B590
.section .sdata, "wa"

glabel D_8018B588
	.long 0x464C4153
	.long 0x48000000
