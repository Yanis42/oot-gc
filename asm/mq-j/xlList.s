# xlList.c
.include "macros.inc"

.section .text, "ax"

.balign 4

# 0x800061E0 - 0x800065A8

glabel xlListReset
/* 0031E0 800061E0 38600001 */  li        r3, 0x1
/* 0031E4 800061E4 4E800020 */  blr

glabel xlListSetup
/* 0031E8 800061E8 3C60800F */  lis       r3, gListList@ha
/* 0031EC 800061EC 38A35300 */  addi      r5, r3, gListList@l
/* 0031F0 800061F0 38800000 */  li        r4, 0x0
/* 0031F4 800061F4 90850004 */  stw       r4, 0x4(r5)
/* 0031F8 800061F8 38000010 */  li        r0, 0x10
/* 0031FC 800061FC 38600001 */  li        r3, 0x1
/* 003200 80006200 90050000 */  stw       r0, 0x0(r5)
/* 003204 80006204 9085000C */  stw       r4, 0xc(r5)
/* 003208 80006208 90850008 */  stw       r4, 0x8(r5)
/* 00320C 8000620C 4E800020 */  blr

glabel xlListTestItem
/* 003210 80006210 3CA0800F */  lis       r5, gListList@ha
/* 003214 80006214 38A55300 */  addi      r5, r5, gListList@l
/* 003218 80006218 7C032840 */  cmplw     r3, r5
/* 00321C 8000621C 4082000C */  bne       lbl_80006228
/* 003220 80006220 38000001 */  li        r0, 0x1
/* 003224 80006224 48000030 */  b         lbl_80006254
lbl_80006228:
/* 003228 80006228 80A50008 */  lwz       r5, 0x8(r5)
/* 00322C 8000622C 4800001C */  b         lbl_80006248
lbl_80006230:
/* 003230 80006230 38050004 */  addi      r0, r5, 0x4
/* 003234 80006234 7C030040 */  cmplw     r3, r0
/* 003238 80006238 4082000C */  bne       lbl_80006244
/* 00323C 8000623C 38000001 */  li        r0, 0x1
/* 003240 80006240 48000014 */  b         lbl_80006254
lbl_80006244:
/* 003244 80006244 80A50000 */  lwz       r5, 0x0(r5)
lbl_80006248:
/* 003248 80006248 28050000 */  cmplwi    r5, 0x0
/* 00324C 8000624C 4082FFE4 */  bne       lbl_80006230
/* 003250 80006250 38000000 */  li        r0, 0x0
lbl_80006254:
/* 003254 80006254 2C000000 */  cmpwi     r0, 0x0
/* 003258 80006258 4182000C */  beq       lbl_80006264
/* 00325C 8000625C 28040000 */  cmplwi    r4, 0x0
/* 003260 80006260 4082000C */  bne       lbl_8000626C
lbl_80006264:
/* 003264 80006264 38600000 */  li        r3, 0x0
/* 003268 80006268 4E800020 */  blr
lbl_8000626C:
/* 00326C 8000626C 80630008 */  lwz       r3, 0x8(r3)
/* 003270 80006270 4800001C */  b         lbl_8000628C
lbl_80006274:
/* 003274 80006274 38030004 */  addi      r0, r3, 0x4
/* 003278 80006278 7C040040 */  cmplw     r4, r0
/* 00327C 8000627C 4082000C */  bne       lbl_80006288
/* 003280 80006280 38600001 */  li        r3, 0x1
/* 003284 80006284 4E800020 */  blr
lbl_80006288:
/* 003288 80006288 80630000 */  lwz       r3, 0x0(r3)
lbl_8000628C:
/* 00328C 8000628C 28030000 */  cmplwi    r3, 0x0
/* 003290 80006290 4082FFE4 */  bne       lbl_80006274
/* 003294 80006294 38600000 */  li        r3, 0x0
/* 003298 80006298 4E800020 */  blr

glabel xlListFreeItem
/* 00329C 8000629C 7C0802A6 */  mflr      r0
/* 0032A0 800062A0 90010004 */  stw       r0, 0x4(r1)
/* 0032A4 800062A4 9421FFE0 */  stwu      r1, -0x20(r1)
/* 0032A8 800062A8 93E1001C */  stw       r31, 0x1c(r1)
/* 0032AC 800062AC 7C7F1B78 */  mr        r31, r3
/* 0032B0 800062B0 80030008 */  lwz       r0, 0x8(r3)
/* 0032B4 800062B4 28000000 */  cmplwi    r0, 0x0
/* 0032B8 800062B8 4082000C */  bne       lbl_800062C4
/* 0032BC 800062BC 38600000 */  li        r3, 0x0
/* 0032C0 800062C0 48000074 */  b         lbl_80006334
lbl_800062C4:
/* 0032C4 800062C4 38DF0008 */  addi      r6, r31, 0x8
/* 0032C8 800062C8 48000060 */  b         lbl_80006328
lbl_800062CC:
/* 0032CC 800062CC 80060000 */  lwz       r0, 0x0(r6)
/* 0032D0 800062D0 90010010 */  stw       r0, 0x10(r1)
/* 0032D4 800062D4 80A10010 */  lwz       r5, 0x10(r1)
/* 0032D8 800062D8 80640000 */  lwz       r3, 0x0(r4)
/* 0032DC 800062DC 38050004 */  addi      r0, r5, 0x4
/* 0032E0 800062E0 7C030040 */  cmplw     r3, r0
/* 0032E4 800062E4 40820040 */  bne       lbl_80006324
/* 0032E8 800062E8 80A50000 */  lwz       r5, 0x0(r5)
/* 0032EC 800062EC 38000000 */  li        r0, 0x0
/* 0032F0 800062F0 38610010 */  addi      r3, r1, 0x10
/* 0032F4 800062F4 90A60000 */  stw       r5, 0x0(r6)
/* 0032F8 800062F8 90040000 */  stw       r0, 0x0(r4)
/* 0032FC 800062FC 48000CFD */  bl        xlHeapFree
/* 003300 80006300 2C030000 */  cmpwi     r3, 0x0
/* 003304 80006304 4082000C */  bne       lbl_80006310
/* 003308 80006308 38600000 */  li        r3, 0x0
/* 00330C 8000630C 48000028 */  b         lbl_80006334
lbl_80006310:
/* 003310 80006310 809F0004 */  lwz       r4, 0x4(r31)
/* 003314 80006314 38600001 */  li        r3, 0x1
/* 003318 80006318 3804FFFF */  subi      r0, r4, 0x1
/* 00331C 8000631C 901F0004 */  stw       r0, 0x4(r31)
/* 003320 80006320 48000014 */  b         lbl_80006334
lbl_80006324:
/* 003324 80006324 7CA62B78 */  mr        r6, r5
lbl_80006328:
/* 003328 80006328 28060000 */  cmplwi    r6, 0x0
/* 00332C 8000632C 4082FFA0 */  bne       lbl_800062CC
/* 003330 80006330 38600000 */  li        r3, 0x0
lbl_80006334:
/* 003334 80006334 80010024 */  lwz       r0, 0x24(r1)
/* 003338 80006338 83E1001C */  lwz       r31, 0x1c(r1)
/* 00333C 8000633C 38210020 */  addi      r1, r1, 0x20
/* 003340 80006340 7C0803A6 */  mtlr      r0
/* 003344 80006344 4E800020 */  blr

glabel xlListMakeItem
/* 003348 80006348 7C0802A6 */  mflr      r0
/* 00334C 8000634C 90010004 */  stw       r0, 0x4(r1)
/* 003350 80006350 9421FFE0 */  stwu      r1, -0x20(r1)
/* 003354 80006354 93E1001C */  stw       r31, 0x1c(r1)
/* 003358 80006358 3BE40000 */  addi      r31, r4, 0x0
/* 00335C 8000635C 93C10018 */  stw       r30, 0x18(r1)
/* 003360 80006360 7C7E1B78 */  mr        r30, r3
/* 003364 80006364 80A30000 */  lwz       r5, 0x0(r3)
/* 003368 80006368 38610010 */  addi      r3, r1, 0x10
/* 00336C 8000636C 38850004 */  addi      r4, r5, 0x4
/* 003370 80006370 48000DA5 */  bl        xlHeapTake
/* 003374 80006374 2C030000 */  cmpwi     r3, 0x0
/* 003378 80006378 4082000C */  bne       lbl_80006384
/* 00337C 8000637C 38600000 */  li        r3, 0x0
/* 003380 80006380 4800005C */  b         lbl_800063DC
lbl_80006384:
/* 003384 80006384 80610010 */  lwz       r3, 0x10(r1)
/* 003388 80006388 38000000 */  li        r0, 0x0
/* 00338C 8000638C 389E0008 */  addi      r4, r30, 0x8
/* 003390 80006390 90030000 */  stw       r0, 0x0(r3)
/* 003394 80006394 80610010 */  lwz       r3, 0x10(r1)
/* 003398 80006398 38030004 */  addi      r0, r3, 0x4
/* 00339C 8000639C 901F0000 */  stw       r0, 0x0(r31)
/* 0033A0 800063A0 48000030 */  b         lbl_800063D0
lbl_800063A4:
/* 0033A4 800063A4 80040000 */  lwz       r0, 0x0(r4)
/* 0033A8 800063A8 28000000 */  cmplwi    r0, 0x0
/* 0033AC 800063AC 40820020 */  bne       lbl_800063CC
/* 0033B0 800063B0 80010010 */  lwz       r0, 0x10(r1)
/* 0033B4 800063B4 38600001 */  li        r3, 0x1
/* 0033B8 800063B8 90040000 */  stw       r0, 0x0(r4)
/* 0033BC 800063BC 809E0004 */  lwz       r4, 0x4(r30)
/* 0033C0 800063C0 38040001 */  addi      r0, r4, 0x1
/* 0033C4 800063C4 901E0004 */  stw       r0, 0x4(r30)
/* 0033C8 800063C8 48000014 */  b         lbl_800063DC
lbl_800063CC:
/* 0033CC 800063CC 7C040378 */  mr        r4, r0
lbl_800063D0:
/* 0033D0 800063D0 28040000 */  cmplwi    r4, 0x0
/* 0033D4 800063D4 4082FFD0 */  bne       lbl_800063A4
/* 0033D8 800063D8 38600000 */  li        r3, 0x0
lbl_800063DC:
/* 0033DC 800063DC 80010024 */  lwz       r0, 0x24(r1)
/* 0033E0 800063E0 83E1001C */  lwz       r31, 0x1c(r1)
/* 0033E4 800063E4 83C10018 */  lwz       r30, 0x18(r1)
/* 0033E8 800063E8 7C0803A6 */  mtlr      r0
/* 0033EC 800063EC 38210020 */  addi      r1, r1, 0x20
/* 0033F0 800063F0 4E800020 */  blr

glabel xlListFree
/* 0033F4 800063F4 7C0802A6 */  mflr      r0
/* 0033F8 800063F8 90010004 */  stw       r0, 0x4(r1)
/* 0033FC 800063FC 9421FFE0 */  stwu      r1, -0x20(r1)
/* 003400 80006400 93E1001C */  stw       r31, 0x1c(r1)
/* 003404 80006404 93C10018 */  stw       r30, 0x18(r1)
/* 003408 80006408 93A10014 */  stw       r29, 0x14(r1)
/* 00340C 8000640C 7C7D1B78 */  mr        r29, r3
/* 003410 80006410 83C30000 */  lwz       r30, 0x0(r3)
/* 003414 80006414 801E0008 */  lwz       r0, 0x8(r30)
/* 003418 80006418 9001000C */  stw       r0, 0xc(r1)
/* 00341C 8000641C 48000024 */  b         lbl_80006440
lbl_80006420:
/* 003420 80006420 83E30000 */  lwz       r31, 0x0(r3)
/* 003424 80006424 3861000C */  addi      r3, r1, 0xc
/* 003428 80006428 48000BD1 */  bl        xlHeapFree
/* 00342C 8000642C 2C030000 */  cmpwi     r3, 0x0
/* 003430 80006430 4082000C */  bne       lbl_8000643C
/* 003434 80006434 38600000 */  li        r3, 0x0
/* 003438 80006438 48000028 */  b         lbl_80006460
lbl_8000643C:
/* 00343C 8000643C 93E1000C */  stw       r31, 0xc(r1)
lbl_80006440:
/* 003440 80006440 8061000C */  lwz       r3, 0xc(r1)
/* 003444 80006444 28030000 */  cmplwi    r3, 0x0
/* 003448 80006448 4082FFD8 */  bne       lbl_80006420
/* 00344C 8000644C 38000000 */  li        r0, 0x0
/* 003450 80006450 901E0004 */  stw       r0, 0x4(r30)
/* 003454 80006454 38600001 */  li        r3, 0x1
/* 003458 80006458 901E000C */  stw       r0, 0xc(r30)
/* 00345C 8000645C 901E0008 */  stw       r0, 0x8(r30)
lbl_80006460:
/* 003460 80006460 2C030000 */  cmpwi     r3, 0x0
/* 003464 80006464 4082000C */  bne       lbl_80006470
/* 003468 80006468 38600000 */  li        r3, 0x0
/* 00346C 8000646C 48000028 */  b         lbl_80006494
lbl_80006470:
/* 003470 80006470 3C60800F */  lis       r3, gListList@ha
/* 003474 80006474 38635300 */  addi      r3, r3, gListList@l
/* 003478 80006478 389D0000 */  addi      r4, r29, 0x0
/* 00347C 8000647C 4BFFFE21 */  bl        xlListFreeItem
/* 003480 80006480 2C030000 */  cmpwi     r3, 0x0
/* 003484 80006484 4082000C */  bne       lbl_80006490
/* 003488 80006488 38600000 */  li        r3, 0x0
/* 00348C 8000648C 48000008 */  b         lbl_80006494
lbl_80006490:
/* 003490 80006490 38600001 */  li        r3, 0x1
lbl_80006494:
/* 003494 80006494 80010024 */  lwz       r0, 0x24(r1)
/* 003498 80006498 83E1001C */  lwz       r31, 0x1c(r1)
/* 00349C 8000649C 83C10018 */  lwz       r30, 0x18(r1)
/* 0034A0 800064A0 7C0803A6 */  mtlr      r0
/* 0034A4 800064A4 83A10014 */  lwz       r29, 0x14(r1)
/* 0034A8 800064A8 38210020 */  addi      r1, r1, 0x20
/* 0034AC 800064AC 4E800020 */  blr

glabel xlListMake
/* 0034B0 800064B0 7C0802A6 */  mflr      r0
/* 0034B4 800064B4 3CA0800F */  lis       r5, gListList@ha
/* 0034B8 800064B8 90010004 */  stw       r0, 0x4(r1)
/* 0034BC 800064BC 38040003 */  addi      r0, r4, 0x3
/* 0034C0 800064C0 9421FFD8 */  stwu      r1, -0x28(r1)
/* 0034C4 800064C4 93E10024 */  stw       r31, 0x24(r1)
/* 0034C8 800064C8 3BE30000 */  addi      r31, r3, 0x0
/* 0034CC 800064CC 38610014 */  addi      r3, r1, 0x14
/* 0034D0 800064D0 93C10020 */  stw       r30, 0x20(r1)
/* 0034D4 800064D4 3BC55300 */  addi      r30, r5, gListList@l
/* 0034D8 800064D8 93A1001C */  stw       r29, 0x1c(r1)
/* 0034DC 800064DC 541D003A */  clrrwi    r29, r0, 2
/* 0034E0 800064E0 80BE0000 */  lwz       r5, 0x0(r30)
/* 0034E4 800064E4 38850004 */  addi      r4, r5, 0x4
/* 0034E8 800064E8 48000C2D */  bl        xlHeapTake
/* 0034EC 800064EC 2C030000 */  cmpwi     r3, 0x0
/* 0034F0 800064F0 4082000C */  bne       lbl_800064FC
/* 0034F4 800064F4 38800000 */  li        r4, 0x0
/* 0034F8 800064F8 4800005C */  b         lbl_80006554
lbl_800064FC:
/* 0034FC 800064FC 80610014 */  lwz       r3, 0x14(r1)
/* 003500 80006500 38000000 */  li        r0, 0x0
/* 003504 80006504 38BE0008 */  addi      r5, r30, 0x8
/* 003508 80006508 90030000 */  stw       r0, 0x0(r3)
/* 00350C 8000650C 80610014 */  lwz       r3, 0x14(r1)
/* 003510 80006510 38030004 */  addi      r0, r3, 0x4
/* 003514 80006514 901F0000 */  stw       r0, 0x0(r31)
/* 003518 80006518 48000030 */  b         lbl_80006548
lbl_8000651C:
/* 00351C 8000651C 80050000 */  lwz       r0, 0x0(r5)
/* 003520 80006520 28000000 */  cmplwi    r0, 0x0
/* 003524 80006524 40820020 */  bne       lbl_80006544
/* 003528 80006528 80010014 */  lwz       r0, 0x14(r1)
/* 00352C 8000652C 38800001 */  li        r4, 0x1
/* 003530 80006530 90050000 */  stw       r0, 0x0(r5)
/* 003534 80006534 807E0004 */  lwz       r3, 0x4(r30)
/* 003538 80006538 38030001 */  addi      r0, r3, 0x1
/* 00353C 8000653C 901E0004 */  stw       r0, 0x4(r30)
/* 003540 80006540 48000014 */  b         lbl_80006554
lbl_80006544:
/* 003544 80006544 7C050378 */  mr        r5, r0
lbl_80006548:
/* 003548 80006548 28050000 */  cmplwi    r5, 0x0
/* 00354C 8000654C 4082FFD0 */  bne       lbl_8000651C
/* 003550 80006550 38800000 */  li        r4, 0x0
lbl_80006554:
/* 003554 80006554 2C040000 */  cmpwi     r4, 0x0
/* 003558 80006558 41820030 */  beq       lbl_80006588
/* 00355C 8000655C 809F0000 */  lwz       r4, 0x0(r31)
/* 003560 80006560 38000000 */  li        r0, 0x0
/* 003564 80006564 38600001 */  li        r3, 0x1
/* 003568 80006568 90040004 */  stw       r0, 0x4(r4)
/* 00356C 8000656C 809F0000 */  lwz       r4, 0x0(r31)
/* 003570 80006570 93A40000 */  stw       r29, 0x0(r4)
/* 003574 80006574 809F0000 */  lwz       r4, 0x0(r31)
/* 003578 80006578 9004000C */  stw       r0, 0xc(r4)
/* 00357C 8000657C 809F0000 */  lwz       r4, 0x0(r31)
/* 003580 80006580 90040008 */  stw       r0, 0x8(r4)
/* 003584 80006584 48000008 */  b         lbl_8000658C
lbl_80006588:
/* 003588 80006588 38600000 */  li        r3, 0x0
lbl_8000658C:
/* 00358C 8000658C 8001002C */  lwz       r0, 0x2c(r1)
/* 003590 80006590 83E10024 */  lwz       r31, 0x24(r1)
/* 003594 80006594 83C10020 */  lwz       r30, 0x20(r1)
/* 003598 80006598 7C0803A6 */  mtlr      r0
/* 00359C 8000659C 83A1001C */  lwz       r29, 0x1c(r1)
/* 0035A0 800065A0 38210028 */  addi      r1, r1, 0x28
/* 0035A4 800065A4 4E800020 */  blr

# 0x800F5300 - 0x800F5310
.section .bss, "wa"

glabel gListList
	.skip 0x10
